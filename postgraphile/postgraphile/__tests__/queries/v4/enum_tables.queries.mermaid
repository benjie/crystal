%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access17{{"Access[17∈0]<br />ᐸ3.pgSettingsᐳ"}}:::plan
    Access18{{"Access[18∈0]<br />ᐸ3.withPgClientᐳ"}}:::plan
    Object19{{"Object[19∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Connection20{{"Connection[20∈0]<br />ᐸ16ᐳ"}}:::plan
    PgSelect21[["PgSelect[21∈1]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item22[/"__Item[22∈2]<br />ᐸ21ᐳ"\]:::itemplan
    PgSelectSingle23{{"PgSelectSingle[23∈2]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression25{{"PgClassExpression[25∈3]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression26{{"PgClassExpression[26∈3]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression27{{"PgClassExpression[27∈3]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    Connection41{{"Connection[41∈0]<br />ᐸ37ᐳ"}}:::plan
    PgSelect42[["PgSelect[42∈4]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item43[/"__Item[43∈5]<br />ᐸ42ᐳ"\]:::itemplan
    PgSelectSingle44{{"PgSelectSingle[44∈5]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression45{{"PgClassExpression[45∈6]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression46{{"PgClassExpression[46∈6]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression47{{"PgClassExpression[47∈6]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression48{{"PgClassExpression[48∈6]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    Connection62{{"Connection[62∈0]<br />ᐸ58ᐳ"}}:::plan
    PgSelect63[["PgSelect[63∈7]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item64[/"__Item[64∈8]<br />ᐸ63ᐳ"\]:::itemplan
    PgSelectSingle65{{"PgSelectSingle[65∈8]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression66{{"PgClassExpression[66∈9]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression67{{"PgClassExpression[67∈9]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression68{{"PgClassExpression[68∈9]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression69{{"PgClassExpression[69∈9]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    __InputStaticLeaf70{{"__InputStaticLeaf[70∈0]"}}:::plan
    PgSelect71[["PgSelect[71∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First75{{"First[75∈0]"}}:::plan
    PgSelectSingle76{{"PgSelectSingle[76∈0]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression77{{"PgClassExpression[77∈10]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression78{{"PgClassExpression[78∈10]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression79{{"PgClassExpression[79∈10]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression80{{"PgClassExpression[80∈10]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    __InputStaticLeaf81{{"__InputStaticLeaf[81∈0]"}}:::plan
    PgSelect82[["PgSelect[82∈0]<br />ᐸletterDescriptionsᐳ"]]:::plan
    First86{{"First[86∈0]"}}:::plan
    PgSelectSingle87{{"PgSelectSingle[87∈0]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression88{{"PgClassExpression[88∈11]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression89{{"PgClassExpression[89∈11]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression90{{"PgClassExpression[90∈11]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression91{{"PgClassExpression[91∈11]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    __InputStaticLeaf102{{"__InputStaticLeaf[102∈12]"}}:::plan
    Connection109{{"Connection[109∈0]<br />ᐸ105ᐳ"}}:::plan
    PgSelect110[["PgSelect[110∈12]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item111[/"__Item[111∈13]<br />ᐸ110ᐳ"\]:::itemplan
    PgSelectSingle112{{"PgSelectSingle[112∈13]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression113{{"PgClassExpression[113∈14]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression114{{"PgClassExpression[114∈14]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression115{{"PgClassExpression[115∈14]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression116{{"PgClassExpression[116∈14]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan
    __InputStaticLeaf128{{"__InputStaticLeaf[128∈15]"}}:::plan
    Connection134{{"Connection[134∈0]<br />ᐸ130ᐳ"}}:::plan
    PgSelect135[["PgSelect[135∈15]<br />ᐸletterDescriptionsᐳ"]]:::plan
    __Item136[/"__Item[136∈16]<br />ᐸ135ᐳ"\]:::itemplan
    PgSelectSingle137{{"PgSelectSingle[137∈16]<br />ᐸletterDescriptionsᐳ"}}:::plan
    PgClassExpression138{{"PgClassExpression[138∈17]<br />ᐸ__letter_d...ons__.”id”ᐳ"}}:::plan
    PgClassExpression139{{"PgClassExpression[139∈17]<br />ᐸ__letter_d..._.”letter”ᐳ"}}:::plan
    PgClassExpression140{{"PgClassExpression[140∈17]<br />ᐸ__letter_d..._via_view”ᐳ"}}:::plan
    PgClassExpression141{{"PgClassExpression[141∈17]<br />ᐸ__letter_d...scription”ᐳ"}}:::plan

    %% plan dependencies
    __Value3 --> Access17
    __Value3 --> Access18
    Access17 & Access18 --> Object19
    Object19 & Connection20 --> PgSelect21
    PgSelect21 ==> __Item22
    __Item22 --> PgSelectSingle23
    PgSelectSingle23 --> PgClassExpression24
    PgSelectSingle23 --> PgClassExpression25
    PgSelectSingle23 --> PgClassExpression26
    PgSelectSingle23 --> PgClassExpression27
    Object19 & Connection41 --> PgSelect42
    PgSelect42 ==> __Item43
    __Item43 --> PgSelectSingle44
    PgSelectSingle44 --> PgClassExpression45
    PgSelectSingle44 --> PgClassExpression46
    PgSelectSingle44 --> PgClassExpression47
    PgSelectSingle44 --> PgClassExpression48
    Object19 & Connection62 --> PgSelect63
    PgSelect63 ==> __Item64
    __Item64 --> PgSelectSingle65
    PgSelectSingle65 --> PgClassExpression66
    PgSelectSingle65 --> PgClassExpression67
    PgSelectSingle65 --> PgClassExpression68
    PgSelectSingle65 --> PgClassExpression69
    Object19 & __InputStaticLeaf70 --> PgSelect71
    PgSelect71 --> First75
    First75 --> PgSelectSingle76
    PgSelectSingle76 --> PgClassExpression77
    PgSelectSingle76 --> PgClassExpression78
    PgSelectSingle76 --> PgClassExpression79
    PgSelectSingle76 --> PgClassExpression80
    Object19 & __InputStaticLeaf81 --> PgSelect82
    PgSelect82 --> First86
    First86 --> PgSelectSingle87
    PgSelectSingle87 --> PgClassExpression88
    PgSelectSingle87 --> PgClassExpression89
    PgSelectSingle87 --> PgClassExpression90
    PgSelectSingle87 --> PgClassExpression91
    Object19 & __InputStaticLeaf102 & Connection109 --> PgSelect110
    PgSelect110 ==> __Item111
    __Item111 --> PgSelectSingle112
    PgSelectSingle112 --> PgClassExpression113
    PgSelectSingle112 --> PgClassExpression114
    PgSelectSingle112 --> PgClassExpression115
    PgSelectSingle112 --> PgClassExpression116
    Object19 & __InputStaticLeaf128 & Connection134 --> PgSelect135
    PgSelect135 ==> __Item136
    __Item136 --> PgSelectSingle137
    PgSelectSingle137 --> PgClassExpression138
    PgSelectSingle137 --> PgClassExpression139
    PgSelectSingle137 --> PgClassExpression140
    PgSelectSingle137 --> PgClassExpression141

    subgraph "Buckets for queries/v4/enum_tables.queries"
    Bucket0("Bucket 0 (root)<br />1: <br />ᐳ: 17, 18, 20, 41, 62, 70, 81, 109, 134, 19<br />2: PgSelect[71], PgSelect[82]<br />ᐳ: 75, 76, 86, 87"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,Access17,Access18,Object19,Connection20,Connection41,Connection62,__InputStaticLeaf70,PgSelect71,First75,PgSelectSingle76,__InputStaticLeaf81,PgSelect82,First86,PgSelectSingle87,Connection109,Connection134 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 19, 20<br /><br />ROOT Connectionᐸ16ᐳ[20]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect21 bucket1
    Bucket2("Bucket 2 (listItem)<br />ROOT __Item{2}ᐸ21ᐳ[22]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item22,PgSelectSingle23 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 23<br /><br />ROOT PgSelectSingle{2}ᐸletterDescriptionsᐳ[23]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression24,PgClassExpression25,PgClassExpression26,PgClassExpression27 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 19, 41<br /><br />ROOT Connectionᐸ37ᐳ[41]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgSelect42 bucket4
    Bucket5("Bucket 5 (listItem)<br />ROOT __Item{5}ᐸ42ᐳ[43]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item43,PgSelectSingle44 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 44<br /><br />ROOT PgSelectSingle{5}ᐸletterDescriptionsᐳ[44]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression45,PgClassExpression46,PgClassExpression47,PgClassExpression48 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 19, 62<br /><br />ROOT Connectionᐸ58ᐳ[62]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgSelect63 bucket7
    Bucket8("Bucket 8 (listItem)<br />ROOT __Item{8}ᐸ63ᐳ[64]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,__Item64,PgSelectSingle65 bucket8
    Bucket9("Bucket 9 (nullableBoundary)<br />Deps: 65<br /><br />ROOT PgSelectSingle{8}ᐸletterDescriptionsᐳ[65]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,PgClassExpression66,PgClassExpression67,PgClassExpression68,PgClassExpression69 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 76<br /><br />ROOT PgSelectSingleᐸletterDescriptionsᐳ[76]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression77,PgClassExpression78,PgClassExpression79,PgClassExpression80 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 87<br /><br />ROOT PgSelectSingleᐸletterDescriptionsᐳ[87]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression88,PgClassExpression89,PgClassExpression90,PgClassExpression91 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 19, 109<br /><br />ROOT Connectionᐸ105ᐳ[109]<br />1: <br />ᐳ: __InputStaticLeaf[102]<br />2: PgSelect[110]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,__InputStaticLeaf102,PgSelect110 bucket12
    Bucket13("Bucket 13 (listItem)<br />ROOT __Item{13}ᐸ110ᐳ[111]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item111,PgSelectSingle112 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 112<br /><br />ROOT PgSelectSingle{13}ᐸletterDescriptionsᐳ[112]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression113,PgClassExpression114,PgClassExpression115,PgClassExpression116 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 19, 134<br /><br />ROOT Connectionᐸ130ᐳ[134]<br />1: <br />ᐳ: __InputStaticLeaf[128]<br />2: PgSelect[135]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__InputStaticLeaf128,PgSelect135 bucket15
    Bucket16("Bucket 16 (listItem)<br />ROOT __Item{16}ᐸ135ᐳ[136]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item136,PgSelectSingle137 bucket16
    Bucket17("Bucket 17 (nullableBoundary)<br />Deps: 137<br /><br />ROOT PgSelectSingle{16}ᐸletterDescriptionsᐳ[137]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,PgClassExpression138,PgClassExpression139,PgClassExpression140,PgClassExpression141 bucket17
    Bucket0 --> Bucket1 & Bucket4 & Bucket7 & Bucket10 & Bucket11 & Bucket12 & Bucket15
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8
    Bucket8 --> Bucket9
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    end
