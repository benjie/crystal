%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% define steps
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __InputStaticLeaf7{{"__InputStaticLeaf[7∈0]"}}:::plan
    Lambda9{{"Lambda[9∈0]<br />ᐸdecodeNodeIdWithCodecsᐳ"}}:::plan
    Node8{{"Node[8∈0]"}}:::plan
    Access14{{"Access[14∈1]<br />ᐸ3.pgSettingsᐳ<br />ᐳInput<br />ᐳPatch<br />ᐳReserved<br />ᐳReservedPatchRecord<br />ᐳReservedInputRecord<br />ᐳDefaultValue<br />ᐳMyTable<br />ᐳPersonSecret<br />ᐳPerson<br />ᐳPost<br />ᐳType<br />ᐳCompoundKey<br />ᐳLeftArm<br />ᐳViewTable<br />ᐳSimilarTable1<br />ᐳSimilarTable2<br />ᐳNullTestRecord<br />ᐳIssue756"}}:::plan
    Access15{{"Access[15∈1]<br />ᐸ3.withPgClientᐳ<br />ᐳInput<br />ᐳPatch<br />ᐳReserved<br />ᐳReservedPatchRecord<br />ᐳReservedInputRecord<br />ᐳDefaultValue<br />ᐳMyTable<br />ᐳPersonSecret<br />ᐳPerson<br />ᐳPost<br />ᐳType<br />ᐳCompoundKey<br />ᐳLeftArm<br />ᐳViewTable<br />ᐳSimilarTable1<br />ᐳSimilarTable2<br />ᐳNullTestRecord<br />ᐳIssue756"}}:::plan
    Object16{{"Object[16∈1]<br />ᐸ{pgSettings,withPgClient}ᐳ<br />ᐳInput<br />ᐳPatch<br />ᐳReserved<br />ᐳReservedPatchRecord<br />ᐳReservedInputRecord<br />ᐳDefaultValue<br />ᐳMyTable<br />ᐳPersonSecret<br />ᐳPerson<br />ᐳPost<br />ᐳType<br />ᐳCompoundKey<br />ᐳLeftArm<br />ᐳViewTable<br />ᐳSimilarTable1<br />ᐳSimilarTable2<br />ᐳNullTestRecord<br />ᐳIssue756"}}:::plan
    Access157{{"Access[157∈1]<br />ᐸ9.base64JSON.1ᐳ<br />ᐳInput<br />ᐳPatch<br />ᐳReserved<br />ᐳReservedPatchRecord<br />ᐳReservedInputRecord<br />ᐳDefaultValue<br />ᐳMyTable<br />ᐳPersonSecret<br />ᐳPerson<br />ᐳPost<br />ᐳType<br />ᐳCompoundKey<br />ᐳLeftArm<br />ᐳViewTable<br />ᐳSimilarTable1<br />ᐳSimilarTable2<br />ᐳNullTestRecord<br />ᐳIssue756"}}:::plan
    PgSelect13[["PgSelect[13∈1]<br />ᐸinputsᐳ<br />ᐳInput"]]:::plan
    First17{{"First[17∈1]"}}:::plan
    PgSelectSingle18{{"PgSelectSingle[18∈1]<br />ᐸinputsᐳ"}}:::plan
    PgSelect21[["PgSelect[21∈1]<br />ᐸpatchsᐳ<br />ᐳPatch"]]:::plan
    First25{{"First[25∈1]"}}:::plan
    PgSelectSingle26{{"PgSelectSingle[26∈1]<br />ᐸpatchsᐳ"}}:::plan
    PgSelect29[["PgSelect[29∈1]<br />ᐸreservedᐳ<br />ᐳReserved"]]:::plan
    First33{{"First[33∈1]"}}:::plan
    PgSelectSingle34{{"PgSelectSingle[34∈1]<br />ᐸreservedᐳ"}}:::plan
    PgSelect37[["PgSelect[37∈1]<br />ᐸreservedPatchsᐳ<br />ᐳReservedPatchRecord"]]:::plan
    First41{{"First[41∈1]"}}:::plan
    PgSelectSingle42{{"PgSelectSingle[42∈1]<br />ᐸreservedPatchsᐳ"}}:::plan
    PgSelect45[["PgSelect[45∈1]<br />ᐸreservedInputᐳ<br />ᐳReservedInputRecord"]]:::plan
    First49{{"First[49∈1]"}}:::plan
    PgSelectSingle50{{"PgSelectSingle[50∈1]<br />ᐸreservedInputᐳ"}}:::plan
    PgSelect53[["PgSelect[53∈1]<br />ᐸdefaultValueᐳ<br />ᐳDefaultValue"]]:::plan
    First57{{"First[57∈1]"}}:::plan
    PgSelectSingle58{{"PgSelectSingle[58∈1]<br />ᐸdefaultValueᐳ"}}:::plan
    PgSelect61[["PgSelect[61∈1]<br />ᐸmyTableᐳ<br />ᐳMyTable"]]:::plan
    First65{{"First[65∈1]"}}:::plan
    PgSelectSingle66{{"PgSelectSingle[66∈1]<br />ᐸmyTableᐳ"}}:::plan
    PgSelect69[["PgSelect[69∈1]<br />ᐸpersonSecretᐳ<br />ᐳPersonSecret"]]:::plan
    First73{{"First[73∈1]"}}:::plan
    PgSelectSingle74{{"PgSelectSingle[74∈1]<br />ᐸpersonSecretᐳ"}}:::plan
    PgSelect77[["PgSelect[77∈1]<br />ᐸpersonᐳ<br />ᐳPerson"]]:::plan
    First81{{"First[81∈1]"}}:::plan
    PgSelectSingle82{{"PgSelectSingle[82∈1]<br />ᐸpersonᐳ"}}:::plan
    PgSelect85[["PgSelect[85∈1]<br />ᐸpostᐳ<br />ᐳPost"]]:::plan
    First89{{"First[89∈1]"}}:::plan
    PgSelectSingle90{{"PgSelectSingle[90∈1]<br />ᐸpostᐳ"}}:::plan
    PgSelect93[["PgSelect[93∈1]<br />ᐸtypesᐳ<br />ᐳType"]]:::plan
    First97{{"First[97∈1]"}}:::plan
    PgSelectSingle98{{"PgSelectSingle[98∈1]<br />ᐸtypesᐳ"}}:::plan
    PgClassExpression99{{"PgClassExpression[99∈1]<br />ᐸ__types__.”id”ᐳ"}}:::plan
    Access158{{"Access[158∈1]<br />ᐸ9.base64JSON.2ᐳ<br />ᐳCompoundKey"}}:::plan
    PgSelect103[["PgSelect[103∈1]<br />ᐸcompoundKeyᐳ<br />ᐳCompoundKey"]]:::plan
    First107{{"First[107∈1]"}}:::plan
    PgSelectSingle108{{"PgSelectSingle[108∈1]<br />ᐸcompoundKeyᐳ"}}:::plan
    PgSelect111[["PgSelect[111∈1]<br />ᐸleftArmᐳ<br />ᐳLeftArm"]]:::plan
    First115{{"First[115∈1]"}}:::plan
    PgSelectSingle116{{"PgSelectSingle[116∈1]<br />ᐸleftArmᐳ"}}:::plan
    PgSelect119[["PgSelect[119∈1]<br />ᐸviewTableᐳ<br />ᐳViewTable"]]:::plan
    First123{{"First[123∈1]"}}:::plan
    PgSelectSingle124{{"PgSelectSingle[124∈1]<br />ᐸviewTableᐳ"}}:::plan
    PgSelect127[["PgSelect[127∈1]<br />ᐸsimilarTable1ᐳ<br />ᐳSimilarTable1"]]:::plan
    First131{{"First[131∈1]"}}:::plan
    PgSelectSingle132{{"PgSelectSingle[132∈1]<br />ᐸsimilarTable1ᐳ"}}:::plan
    PgSelect135[["PgSelect[135∈1]<br />ᐸsimilarTable2ᐳ<br />ᐳSimilarTable2"]]:::plan
    First139{{"First[139∈1]"}}:::plan
    PgSelectSingle140{{"PgSelectSingle[140∈1]<br />ᐸsimilarTable2ᐳ"}}:::plan
    PgSelect143[["PgSelect[143∈1]<br />ᐸnullTestRecordᐳ<br />ᐳNullTestRecord"]]:::plan
    First147{{"First[147∈1]"}}:::plan
    PgSelectSingle148{{"PgSelectSingle[148∈1]<br />ᐸnullTestRecordᐳ"}}:::plan
    PgSelect151[["PgSelect[151∈1]<br />ᐸissue756ᐳ<br />ᐳIssue756"]]:::plan
    First155{{"First[155∈1]"}}:::plan
    PgSelectSingle156{{"PgSelectSingle[156∈1]<br />ᐸissue756ᐳ"}}:::plan

    %% plan dependencies
    __InputStaticLeaf7 --> Lambda9
    Lambda9 --> Node8
    __Value3 --> Access14
    __Value3 --> Access15
    Access14 & Access15 --> Object16
    Lambda9 --> Access157
    Object16 & Access157 --> PgSelect13
    PgSelect13 --> First17
    First17 --> PgSelectSingle18
    Object16 & Access157 --> PgSelect21
    PgSelect21 --> First25
    First25 --> PgSelectSingle26
    Object16 & Access157 --> PgSelect29
    PgSelect29 --> First33
    First33 --> PgSelectSingle34
    Object16 & Access157 --> PgSelect37
    PgSelect37 --> First41
    First41 --> PgSelectSingle42
    Object16 & Access157 --> PgSelect45
    PgSelect45 --> First49
    First49 --> PgSelectSingle50
    Object16 & Access157 --> PgSelect53
    PgSelect53 --> First57
    First57 --> PgSelectSingle58
    Object16 & Access157 --> PgSelect61
    PgSelect61 --> First65
    First65 --> PgSelectSingle66
    Object16 & Access157 --> PgSelect69
    PgSelect69 --> First73
    First73 --> PgSelectSingle74
    Object16 & Access157 --> PgSelect77
    PgSelect77 --> First81
    First81 --> PgSelectSingle82
    Object16 & Access157 --> PgSelect85
    PgSelect85 --> First89
    First89 --> PgSelectSingle90
    Object16 & Access157 --> PgSelect93
    PgSelect93 --> First97
    First97 --> PgSelectSingle98
    PgSelectSingle98 --> PgClassExpression99
    Lambda9 --> Access158
    Object16 & Access157 & Access158 --> PgSelect103
    PgSelect103 --> First107
    First107 --> PgSelectSingle108
    Object16 & Access157 --> PgSelect111
    PgSelect111 --> First115
    First115 --> PgSelectSingle116
    Object16 & Access157 --> PgSelect119
    PgSelect119 --> First123
    First123 --> PgSelectSingle124
    Object16 & Access157 --> PgSelect127
    PgSelect127 --> First131
    First131 --> PgSelectSingle132
    Object16 & Access157 --> PgSelect135
    PgSelect135 --> First139
    First139 --> PgSelectSingle140
    Object16 & Access157 --> PgSelect143
    PgSelect143 --> First147
    First147 --> PgSelectSingle148
    Object16 & Access157 --> PgSelect151
    PgSelect151 --> First155
    First155 --> PgSelectSingle156

    subgraph "Buckets for queries/v4/types-single-node"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__Value5,__InputStaticLeaf7,Node8,Lambda9 bucket0
    Bucket1("Bucket 1 (polymorphic)<br />Query,Input,Patch,Reserved,ReservedPatchRecord,ReservedInputRecord,DefaultValue,MyTable,PersonSecret,Person,Post,Type,CompoundKey,LeftArm,ViewTable,SimilarTable1,SimilarTable2,NullTestRecord,Issue756<br />Deps: 3, 9, 8, 5<br />ᐳQuery<br />ᐳInput<br />ᐳPatch<br />ᐳReserved<br />ᐳReservedPatchRecord<br />ᐳReservedInputRecord<br />ᐳDefaultValue<br />ᐳMyTable<br />ᐳPersonSecret<br />ᐳPerson<br />ᐳPost<br />ᐳType<br />ᐳCompoundKey<br />ᐳLeftArm<br />ᐳViewTable<br />ᐳSimilarTable1<br />ᐳSimilarTable2<br />ᐳNullTestRecord<br />ᐳIssue756<br />1: <br />ᐳ: 14, 15, 157, 158, 16<br />2: 13, 21, 29, 37, 45, 53, 61, 69, 77, 85, 93, 103, 111, 119, 127, 135, 143, 151<br />ᐳ: 17, 18, 25, 26, 33, 34, 41, 42, 49, 50, 57, 58, 65, 66, 73, 74, 81, 82, 89, 90, 97, 98, 99, 107, 108, 115, 116, 123, 124, 131, 132, 139, 140, 147, 148, 155, 156"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect13,Access14,Access15,Object16,First17,PgSelectSingle18,PgSelect21,First25,PgSelectSingle26,PgSelect29,First33,PgSelectSingle34,PgSelect37,First41,PgSelectSingle42,PgSelect45,First49,PgSelectSingle50,PgSelect53,First57,PgSelectSingle58,PgSelect61,First65,PgSelectSingle66,PgSelect69,First73,PgSelectSingle74,PgSelect77,First81,PgSelectSingle82,PgSelect85,First89,PgSelectSingle90,PgSelect93,First97,PgSelectSingle98,PgClassExpression99,PgSelect103,First107,PgSelectSingle108,PgSelect111,First115,PgSelectSingle116,PgSelect119,First123,PgSelectSingle124,PgSelect127,First131,PgSelectSingle132,PgSelect135,First139,PgSelectSingle140,PgSelect143,First147,PgSelectSingle148,PgSelect151,First155,PgSelectSingle156,Access157,Access158 bucket1
    Bucket0 --> Bucket1
    end
