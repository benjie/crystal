%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% define steps
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    Access16{{"Access[16∈0]<br />ᐸ3.pgSettingsᐳ"}}:::plan
    Access17{{"Access[17∈0]<br />ᐸ3.withPgClientᐳ"}}:::plan
    Object18{{"Object[18∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Connection19{{"Connection[19∈0]<br />ᐸ15ᐳ"}}:::plan
    PgSelect20[["PgSelect[20∈1]<br />ᐸhousesᐳ"]]:::plan
    __Item21[/"__Item[21∈2]<br />ᐸ20ᐳ"\]:::itemplan
    PgSelectSingle22{{"PgSelectSingle[22∈2]<br />ᐸhousesᐳ"}}:::plan
    Constant23{{"Constant[23∈1]"}}:::plan
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression25{{"PgClassExpression[25∈3]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    List26{{"List[26∈3]<br />ᐸ23,24,25ᐳ"}}:::plan
    Lambda27{{"Lambda[27∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression28{{"PgClassExpression[28∈3]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgClassExpression29{{"PgClassExpression[29∈3]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgClassExpression32{{"PgClassExpression[32∈3]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    Map354{{"Map[354∈3]<br />ᐸ22:{”0”:3,”1”:4,”2”:5}ᐳ"}}:::plan
    PgSelectSingle40{{"PgSelectSingle[40∈3]<br />ᐸstreetsᐳ"}}:::plan
    Constant41{{"Constant[41∈1]"}}:::plan
    PgClassExpression42{{"PgClassExpression[42∈4]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List43{{"List[43∈4]<br />ᐸ41,42ᐳ"}}:::plan
    Lambda44{{"Lambda[44∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression46{{"PgClassExpression[46∈4]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection60{{"Connection[60∈1]<br />ᐸ56ᐳ"}}:::plan
    Access352{{"Access[352∈4]<br />ᐸ354.1ᐳ"}}:::plan
    __Item62[/"__Item[62∈5]<br />ᐸ352ᐳ"\]:::itemplan
    PgSelectSingle63{{"PgSelectSingle[63∈5]<br />ᐸbuildingsᐳ"}}:::plan
    Constant64{{"Constant[64∈1]"}}:::plan
    PgClassExpression65{{"PgClassExpression[65∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List66{{"List[66∈6]<br />ᐸ64,65ᐳ"}}:::plan
    Lambda67{{"Lambda[67∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression69{{"PgClassExpression[69∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Map374{{"Map[374∈3]<br />ᐸ22:{”0”:19,”1”:20,”2”:21,”3”:22,”4”:23,”5”:24,”6”:25,”7”:26,”8”:27,”9”:28,”10”:29,”11”:30,”12”:31,”13”:32}ᐳ"}}:::plan
    PgSelectSingle76{{"PgSelectSingle[76∈3]<br />ᐸbuildingsᐳ"}}:::plan
    Constant77{{"Constant[77∈1]"}}:::plan
    PgClassExpression78{{"PgClassExpression[78∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List79{{"List[79∈7]<br />ᐸ77,78ᐳ"}}:::plan
    Lambda80{{"Lambda[80∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression82{{"PgClassExpression[82∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgClassExpression83{{"PgClassExpression[83∈7]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgClassExpression84{{"PgClassExpression[84∈7]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    Map361{{"Map[361∈7]<br />ᐸ76:{”0”:3,”1”:4,”2”:5}ᐳ"}}:::plan
    PgSelectSingle91{{"PgSelectSingle[91∈7]<br />ᐸstreetsᐳ"}}:::plan
    Constant92{{"Constant[92∈1]"}}:::plan
    PgClassExpression93{{"PgClassExpression[93∈8]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List94{{"List[94∈8]<br />ᐸ92,93ᐳ"}}:::plan
    Lambda95{{"Lambda[95∈8]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression97{{"PgClassExpression[97∈8]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection111{{"Connection[111∈1]<br />ᐸ107ᐳ"}}:::plan
    Access358{{"Access[358∈8]<br />ᐸ361.1ᐳ"}}:::plan
    __Item113[/"__Item[113∈9]<br />ᐸ358ᐳ"\]:::itemplan
    PgSelectSingle114{{"PgSelectSingle[114∈9]<br />ᐸbuildingsᐳ"}}:::plan
    Constant115{{"Constant[115∈1]"}}:::plan
    PgClassExpression116{{"PgClassExpression[116∈10]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List117{{"List[117∈10]<br />ᐸ115,116ᐳ"}}:::plan
    Lambda118{{"Lambda[118∈10]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression120{{"PgClassExpression[120∈10]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Map371{{"Map[371∈7]<br />ᐸ76:{”0”:7,”1”:8,”2”:9,”3”:10,”4”:11,”5”:12}ᐳ"}}:::plan
    PgSelectSingle127{{"PgSelectSingle[127∈7]<br />ᐸpropertiesᐳ"}}:::plan
    Constant128{{"Constant[128∈1]"}}:::plan
    PgClassExpression129{{"PgClassExpression[129∈11]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    List130{{"List[130∈11]<br />ᐸ128,129ᐳ"}}:::plan
    Lambda131{{"Lambda[131∈11]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression133{{"PgClassExpression[133∈11]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgClassExpression134{{"PgClassExpression[134∈11]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    Map367{{"Map[367∈11]<br />ᐸ127:{”0”:2,”1”:3,”2”:4}ᐳ"}}:::plan
    PgSelectSingle141{{"PgSelectSingle[141∈11]<br />ᐸstreetsᐳ"}}:::plan
    Constant142{{"Constant[142∈1]"}}:::plan
    PgClassExpression143{{"PgClassExpression[143∈12]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List144{{"List[144∈12]<br />ᐸ142,143ᐳ"}}:::plan
    Lambda145{{"Lambda[145∈12]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression147{{"PgClassExpression[147∈12]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection161{{"Connection[161∈1]<br />ᐸ157ᐳ"}}:::plan
    Access364{{"Access[364∈12]<br />ᐸ367.1ᐳ"}}:::plan
    __Item163[/"__Item[163∈13]<br />ᐸ364ᐳ"\]:::itemplan
    PgSelectSingle164{{"PgSelectSingle[164∈13]<br />ᐸbuildingsᐳ"}}:::plan
    Constant165{{"Constant[165∈1]"}}:::plan
    PgClassExpression166{{"PgClassExpression[166∈14]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List167{{"List[167∈14]<br />ᐸ165,166ᐳ"}}:::plan
    Lambda168{{"Lambda[168∈14]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression170{{"PgClassExpression[170∈14]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Map378{{"Map[378∈3]<br />ᐸ22:{”0”:34,”1”:35,”2”:36,”3”:37,”4”:38,”5”:39}ᐳ"}}:::plan
    PgSelectSingle177{{"PgSelectSingle[177∈3]<br />ᐸpropertiesᐳ"}}:::plan
    Constant178{{"Constant[178∈1]"}}:::plan
    PgClassExpression179{{"PgClassExpression[179∈15]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    List180{{"List[180∈15]<br />ᐸ178,179ᐳ"}}:::plan
    Lambda181{{"Lambda[181∈15]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression183{{"PgClassExpression[183∈15]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgClassExpression184{{"PgClassExpression[184∈15]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    Map376{{"Map[376∈15]<br />ᐸ177:{”0”:0,”1”:1,”2”:2}ᐳ"}}:::plan
    PgSelectSingle191{{"PgSelectSingle[191∈15]<br />ᐸstreetsᐳ"}}:::plan
    Constant192{{"Constant[192∈1]"}}:::plan
    PgClassExpression193{{"PgClassExpression[193∈16]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List194{{"List[194∈16]<br />ᐸ192,193ᐳ"}}:::plan
    Lambda195{{"Lambda[195∈16]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression197{{"PgClassExpression[197∈16]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection211{{"Connection[211∈1]<br />ᐸ207ᐳ"}}:::plan
    Access373{{"Access[373∈16]<br />ᐸ376.0ᐳ"}}:::plan
    __Item213[/"__Item[213∈17]<br />ᐸ373ᐳ"\]:::itemplan
    PgSelectSingle214{{"PgSelectSingle[214∈17]<br />ᐸbuildingsᐳ"}}:::plan
    Constant215{{"Constant[215∈1]"}}:::plan
    PgClassExpression216{{"PgClassExpression[216∈18]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List217{{"List[217∈18]<br />ᐸ215,216ᐳ"}}:::plan
    Lambda218{{"Lambda[218∈18]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression220{{"PgClassExpression[220∈18]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Map369{{"Map[369∈3]<br />ᐸ22:{”0”:6,”1”:7,”2”:8,”3”:9,”4”:10,”5”:11,”6”:12,”7”:13,”8”:14,”9”:15,”10”:16,”11”:17}ᐳ"}}:::plan
    PgSelectSingle228{{"PgSelectSingle[228∈3]<br />ᐸstreetPropertyᐳ"}}:::plan
    PgClassExpression229{{"PgClassExpression[229∈19]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    PgClassExpression230{{"PgClassExpression[230∈19]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    PgClassExpression231{{"PgClassExpression[231∈19]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    Map365{{"Map[365∈19]<br />ᐸ228:{”0”:7,”1”:8,”2”:9}ᐳ"}}:::plan
    PgSelectSingle238{{"PgSelectSingle[238∈19]<br />ᐸstreetsᐳ"}}:::plan
    Constant239{{"Constant[239∈1]"}}:::plan
    PgClassExpression240{{"PgClassExpression[240∈20]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List241{{"List[241∈20]<br />ᐸ239,240ᐳ"}}:::plan
    Lambda242{{"Lambda[242∈20]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression244{{"PgClassExpression[244∈20]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection258{{"Connection[258∈1]<br />ᐸ254ᐳ"}}:::plan
    Access363{{"Access[363∈20]<br />ᐸ365.0ᐳ"}}:::plan
    __Item260[/"__Item[260∈21]<br />ᐸ363ᐳ"\]:::itemplan
    PgSelectSingle261{{"PgSelectSingle[261∈21]<br />ᐸbuildingsᐳ"}}:::plan
    Constant262{{"Constant[262∈1]"}}:::plan
    PgClassExpression263{{"PgClassExpression[263∈22]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List264{{"List[264∈22]<br />ᐸ262,263ᐳ"}}:::plan
    Lambda265{{"Lambda[265∈22]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression267{{"PgClassExpression[267∈22]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Map359{{"Map[359∈19]<br />ᐸ228:{”0”:0,”1”:1,”2”:2,”3”:3,”4”:4,”5”:5}ᐳ"}}:::plan
    PgSelectSingle274{{"PgSelectSingle[274∈19]<br />ᐸpropertiesᐳ"}}:::plan
    Constant275{{"Constant[275∈1]"}}:::plan
    PgClassExpression276{{"PgClassExpression[276∈23]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    List277{{"List[277∈23]<br />ᐸ275,276ᐳ"}}:::plan
    Lambda278{{"Lambda[278∈23]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression280{{"PgClassExpression[280∈23]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgClassExpression281{{"PgClassExpression[281∈23]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    Map356{{"Map[356∈23]<br />ᐸ274:{”0”:0,”1”:1,”2”:2}ᐳ"}}:::plan
    PgSelectSingle288{{"PgSelectSingle[288∈23]<br />ᐸstreetsᐳ"}}:::plan
    Constant289{{"Constant[289∈1]"}}:::plan
    PgClassExpression290{{"PgClassExpression[290∈24]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    List291{{"List[291∈24]<br />ᐸ289,290ᐳ"}}:::plan
    Lambda292{{"Lambda[292∈24]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression294{{"PgClassExpression[294∈24]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Connection308{{"Connection[308∈1]<br />ᐸ304ᐳ"}}:::plan
    Access353{{"Access[353∈24]<br />ᐸ356.0ᐳ"}}:::plan
    __Item310[/"__Item[310∈25]<br />ᐸ353ᐳ"\]:::itemplan
    PgSelectSingle311{{"PgSelectSingle[311∈25]<br />ᐸbuildingsᐳ"}}:::plan
    Constant312{{"Constant[312∈1]"}}:::plan
    PgClassExpression313{{"PgClassExpression[313∈26]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    List314{{"List[314∈26]<br />ᐸ312,313ᐳ"}}:::plan
    Lambda315{{"Lambda[315∈26]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    PgClassExpression317{{"PgClassExpression[317∈26]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    __InputStaticLeaf318{{"__InputStaticLeaf[318∈0]"}}:::plan
    __InputStaticLeaf319{{"__InputStaticLeaf[319∈0]"}}:::plan
    PgSelect320[["PgSelect[320∈0]<br />ᐸhousesᐳ"]]:::plan
    First324{{"First[324∈0]"}}:::plan
    PgSelectSingle325{{"PgSelectSingle[325∈0]<br />ᐸhousesᐳ"}}:::plan
    PgClassExpression326{{"PgClassExpression[326∈27]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgClassExpression327{{"PgClassExpression[327∈27]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgClassExpression328{{"PgClassExpression[328∈27]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    Constant329{{"Constant[329∈27]"}}:::plan
    PgClassExpression330{{"PgClassExpression[330∈27]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression331{{"PgClassExpression[331∈27]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    List332{{"List[332∈27]<br />ᐸ329,330,331ᐳ"}}:::plan
    Lambda333{{"Lambda[333∈27]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    __InputStaticLeaf334{{"__InputStaticLeaf[334∈0]"}}:::plan
    Lambda335{{"Lambda[335∈0]<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Access336{{"Access[336∈0]<br />ᐸ335.1ᐳ"}}:::plan
    Access337{{"Access[337∈0]<br />ᐸ335.2ᐳ"}}:::plan
    PgSelect338[["PgSelect[338∈0]<br />ᐸhousesᐳ"]]:::plan
    First342{{"First[342∈0]"}}:::plan
    PgSelectSingle343{{"PgSelectSingle[343∈0]<br />ᐸhousesᐳ"}}:::plan
    PgClassExpression344{{"PgClassExpression[344∈28]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgClassExpression345{{"PgClassExpression[345∈28]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgClassExpression346{{"PgClassExpression[346∈28]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    Constant347{{"Constant[347∈28]"}}:::plan
    PgClassExpression348{{"PgClassExpression[348∈28]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression349{{"PgClassExpression[349∈28]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    List350{{"List[350∈28]<br />ᐸ347,348,349ᐳ"}}:::plan
    Lambda351{{"Lambda[351∈28]<br />ᐸbase64JSONEncodeᐳ"}}:::plan

    %% plan dependencies
    __Value3 --> Access16
    __Value3 --> Access17
    Access16 & Access17 --> Object18
    Object18 & Connection19 --> PgSelect20
    PgSelect20 ==> __Item21
    __Item21 --> PgSelectSingle22
    PgSelectSingle22 --> PgClassExpression24
    PgSelectSingle22 --> PgClassExpression25
    Constant23 & PgClassExpression24 & PgClassExpression25 --> List26
    List26 --> Lambda27
    PgSelectSingle22 --> PgClassExpression28
    PgSelectSingle22 --> PgClassExpression29
    PgSelectSingle22 --> PgClassExpression30
    PgSelectSingle22 --> PgClassExpression32
    PgSelectSingle22 --> Map354
    Map354 --> PgSelectSingle40
    PgSelectSingle40 --> PgClassExpression42
    Constant41 & PgClassExpression42 --> List43
    List43 --> Lambda44
    PgSelectSingle40 --> PgClassExpression46
    Map354 --> Access352
    Access352 ==> __Item62
    __Item62 --> PgSelectSingle63
    PgSelectSingle63 --> PgClassExpression65
    Constant64 & PgClassExpression65 --> List66
    List66 --> Lambda67
    PgSelectSingle63 --> PgClassExpression69
    PgSelectSingle22 --> Map374
    Map374 --> PgSelectSingle76
    PgSelectSingle76 --> PgClassExpression78
    Constant77 & PgClassExpression78 --> List79
    List79 --> Lambda80
    PgSelectSingle76 --> PgClassExpression82
    PgSelectSingle76 --> PgClassExpression83
    PgSelectSingle76 --> PgClassExpression84
    PgSelectSingle76 --> Map361
    Map361 --> PgSelectSingle91
    PgSelectSingle91 --> PgClassExpression93
    Constant92 & PgClassExpression93 --> List94
    List94 --> Lambda95
    PgSelectSingle91 --> PgClassExpression97
    Map361 --> Access358
    Access358 ==> __Item113
    __Item113 --> PgSelectSingle114
    PgSelectSingle114 --> PgClassExpression116
    Constant115 & PgClassExpression116 --> List117
    List117 --> Lambda118
    PgSelectSingle114 --> PgClassExpression120
    PgSelectSingle76 --> Map371
    Map371 --> PgSelectSingle127
    PgSelectSingle127 --> PgClassExpression129
    Constant128 & PgClassExpression129 --> List130
    List130 --> Lambda131
    PgSelectSingle127 --> PgClassExpression133
    PgSelectSingle127 --> PgClassExpression134
    PgSelectSingle127 --> Map367
    Map367 --> PgSelectSingle141
    PgSelectSingle141 --> PgClassExpression143
    Constant142 & PgClassExpression143 --> List144
    List144 --> Lambda145
    PgSelectSingle141 --> PgClassExpression147
    Map367 --> Access364
    Access364 ==> __Item163
    __Item163 --> PgSelectSingle164
    PgSelectSingle164 --> PgClassExpression166
    Constant165 & PgClassExpression166 --> List167
    List167 --> Lambda168
    PgSelectSingle164 --> PgClassExpression170
    PgSelectSingle22 --> Map378
    Map378 --> PgSelectSingle177
    PgSelectSingle177 --> PgClassExpression179
    Constant178 & PgClassExpression179 --> List180
    List180 --> Lambda181
    PgSelectSingle177 --> PgClassExpression183
    PgSelectSingle177 --> PgClassExpression184
    PgSelectSingle177 --> Map376
    Map376 --> PgSelectSingle191
    PgSelectSingle191 --> PgClassExpression193
    Constant192 & PgClassExpression193 --> List194
    List194 --> Lambda195
    PgSelectSingle191 --> PgClassExpression197
    Map376 --> Access373
    Access373 ==> __Item213
    __Item213 --> PgSelectSingle214
    PgSelectSingle214 --> PgClassExpression216
    Constant215 & PgClassExpression216 --> List217
    List217 --> Lambda218
    PgSelectSingle214 --> PgClassExpression220
    PgSelectSingle22 --> Map369
    Map369 --> PgSelectSingle228
    PgSelectSingle228 --> PgClassExpression229
    PgSelectSingle228 --> PgClassExpression230
    PgSelectSingle228 --> PgClassExpression231
    PgSelectSingle228 --> Map365
    Map365 --> PgSelectSingle238
    PgSelectSingle238 --> PgClassExpression240
    Constant239 & PgClassExpression240 --> List241
    List241 --> Lambda242
    PgSelectSingle238 --> PgClassExpression244
    Map365 --> Access363
    Access363 ==> __Item260
    __Item260 --> PgSelectSingle261
    PgSelectSingle261 --> PgClassExpression263
    Constant262 & PgClassExpression263 --> List264
    List264 --> Lambda265
    PgSelectSingle261 --> PgClassExpression267
    PgSelectSingle228 --> Map359
    Map359 --> PgSelectSingle274
    PgSelectSingle274 --> PgClassExpression276
    Constant275 & PgClassExpression276 --> List277
    List277 --> Lambda278
    PgSelectSingle274 --> PgClassExpression280
    PgSelectSingle274 --> PgClassExpression281
    PgSelectSingle274 --> Map356
    Map356 --> PgSelectSingle288
    PgSelectSingle288 --> PgClassExpression290
    Constant289 & PgClassExpression290 --> List291
    List291 --> Lambda292
    PgSelectSingle288 --> PgClassExpression294
    Map356 --> Access353
    Access353 ==> __Item310
    __Item310 --> PgSelectSingle311
    PgSelectSingle311 --> PgClassExpression313
    Constant312 & PgClassExpression313 --> List314
    List314 --> Lambda315
    PgSelectSingle311 --> PgClassExpression317
    Object18 & __InputStaticLeaf318 & __InputStaticLeaf319 --> PgSelect320
    PgSelect320 --> First324
    First324 --> PgSelectSingle325
    PgSelectSingle325 --> PgClassExpression326
    PgSelectSingle325 --> PgClassExpression327
    PgSelectSingle325 --> PgClassExpression328
    PgSelectSingle325 --> PgClassExpression330
    PgSelectSingle325 --> PgClassExpression331
    Constant329 & PgClassExpression330 & PgClassExpression331 --> List332
    List332 --> Lambda333
    __InputStaticLeaf334 --> Lambda335
    Lambda335 --> Access336
    Lambda335 --> Access337
    Object18 & Access336 & Access337 --> PgSelect338
    PgSelect338 --> First342
    First342 --> PgSelectSingle343
    PgSelectSingle343 --> PgClassExpression344
    PgSelectSingle343 --> PgClassExpression345
    PgSelectSingle343 --> PgClassExpression346
    PgSelectSingle343 --> PgClassExpression348
    PgSelectSingle343 --> PgClassExpression349
    Constant347 & PgClassExpression348 & PgClassExpression349 --> List350
    List350 --> Lambda351

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br />1: <br />ᐳ: 16, 17, 19, 318, 319, 334, 18, 335, 336, 337<br />2: PgSelect[320], PgSelect[338]<br />ᐳ: 324, 325, 342, 343"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value3,__Value5,Access16,Access17,Object18,Connection19,__InputStaticLeaf318,__InputStaticLeaf319,PgSelect320,First324,PgSelectSingle325,__InputStaticLeaf334,Lambda335,Access336,Access337,PgSelect338,First342,PgSelectSingle343 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 18, 19<br /><br />ROOT Connectionᐸ15ᐳ[19]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect20,Constant23,Constant41,Connection60,Constant64,Constant77,Constant92,Connection111,Constant115,Constant128,Constant142,Connection161,Constant165,Constant178,Constant192,Connection211,Constant215,Constant239,Connection258,Constant262,Constant275,Constant289,Connection308,Constant312 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 23, 41, 64, 77, 92, 115, 128, 142, 165, 178, 192, 215, 239, 262, 275, 289, 312, 60, 111, 161, 211, 258, 308<br /><br />ROOT __Item{2}ᐸ20ᐳ[21]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item21,PgSelectSingle22 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 22, 23, 41, 64, 77, 92, 115, 128, 142, 165, 178, 192, 215, 239, 262, 275, 289, 312, 60, 111, 161, 211, 258, 308<br /><br />ROOT PgSelectSingle{2}ᐸhousesᐳ[22]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression24,PgClassExpression25,List26,Lambda27,PgClassExpression28,PgClassExpression29,PgClassExpression30,PgClassExpression32,PgSelectSingle40,PgSelectSingle76,PgSelectSingle177,PgSelectSingle228,Map354,Map369,Map374,Map378 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 40, 41, 354, 64, 60<br /><br />ROOT PgSelectSingle{3}ᐸstreetsᐳ[40]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression42,List43,Lambda44,PgClassExpression46,Access352 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 64<br /><br />ROOT __Item{5}ᐸ352ᐳ[62]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item62,PgSelectSingle63 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 63, 64<br /><br />ROOT PgSelectSingle{5}ᐸbuildingsᐳ[63]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression65,List66,Lambda67,PgClassExpression69 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 76, 77, 92, 115, 128, 142, 165, 111, 161<br /><br />ROOT PgSelectSingle{3}ᐸbuildingsᐳ[76]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression78,List79,Lambda80,PgClassExpression82,PgClassExpression83,PgClassExpression84,PgSelectSingle91,PgSelectSingle127,Map361,Map371 bucket7
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 91, 92, 361, 115, 111<br /><br />ROOT PgSelectSingle{7}ᐸstreetsᐳ[91]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression93,List94,Lambda95,PgClassExpression97,Access358 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 115<br /><br />ROOT __Item{9}ᐸ358ᐳ[113]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item113,PgSelectSingle114 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 114, 115<br /><br />ROOT PgSelectSingle{9}ᐸbuildingsᐳ[114]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression116,List117,Lambda118,PgClassExpression120 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 127, 128, 142, 165, 161<br /><br />ROOT PgSelectSingle{7}ᐸpropertiesᐳ[127]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression129,List130,Lambda131,PgClassExpression133,PgClassExpression134,PgSelectSingle141,Map367 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 141, 142, 367, 165, 161<br /><br />ROOT PgSelectSingle{11}ᐸstreetsᐳ[141]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression143,List144,Lambda145,PgClassExpression147,Access364 bucket12
    Bucket13("Bucket 13 (listItem)<br />Deps: 165<br /><br />ROOT __Item{13}ᐸ364ᐳ[163]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item163,PgSelectSingle164 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 164, 165<br /><br />ROOT PgSelectSingle{13}ᐸbuildingsᐳ[164]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression166,List167,Lambda168,PgClassExpression170 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 177, 178, 192, 215, 211<br /><br />ROOT PgSelectSingle{3}ᐸpropertiesᐳ[177]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression179,List180,Lambda181,PgClassExpression183,PgClassExpression184,PgSelectSingle191,Map376 bucket15
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 191, 192, 376, 215, 211<br /><br />ROOT PgSelectSingle{15}ᐸstreetsᐳ[191]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression193,List194,Lambda195,PgClassExpression197,Access373 bucket16
    Bucket17("Bucket 17 (listItem)<br />Deps: 215<br /><br />ROOT __Item{17}ᐸ373ᐳ[213]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,__Item213,PgSelectSingle214 bucket17
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 214, 215<br /><br />ROOT PgSelectSingle{17}ᐸbuildingsᐳ[214]"):::bucket
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgClassExpression216,List217,Lambda218,PgClassExpression220 bucket18
    Bucket19("Bucket 19 (nullableBoundary)<br />Deps: 228, 239, 262, 275, 289, 312, 258, 308<br /><br />ROOT PgSelectSingle{3}ᐸstreetPropertyᐳ[228]"):::bucket
    classDef bucket19 stroke:#7f007f
    class Bucket19,PgClassExpression229,PgClassExpression230,PgClassExpression231,PgSelectSingle238,PgSelectSingle274,Map359,Map365 bucket19
    Bucket20("Bucket 20 (nullableBoundary)<br />Deps: 238, 239, 365, 262, 258<br /><br />ROOT PgSelectSingle{19}ᐸstreetsᐳ[238]"):::bucket
    classDef bucket20 stroke:#ffa500
    class Bucket20,PgClassExpression240,List241,Lambda242,PgClassExpression244,Access363 bucket20
    Bucket21("Bucket 21 (listItem)<br />Deps: 262<br /><br />ROOT __Item{21}ᐸ363ᐳ[260]"):::bucket
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item260,PgSelectSingle261 bucket21
    Bucket22("Bucket 22 (nullableBoundary)<br />Deps: 261, 262<br /><br />ROOT PgSelectSingle{21}ᐸbuildingsᐳ[261]"):::bucket
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgClassExpression263,List264,Lambda265,PgClassExpression267 bucket22
    Bucket23("Bucket 23 (nullableBoundary)<br />Deps: 274, 275, 289, 312, 308<br /><br />ROOT PgSelectSingle{19}ᐸpropertiesᐳ[274]"):::bucket
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgClassExpression276,List277,Lambda278,PgClassExpression280,PgClassExpression281,PgSelectSingle288,Map356 bucket23
    Bucket24("Bucket 24 (nullableBoundary)<br />Deps: 288, 289, 356, 312, 308<br /><br />ROOT PgSelectSingle{23}ᐸstreetsᐳ[288]"):::bucket
    classDef bucket24 stroke:#808000
    class Bucket24,PgClassExpression290,List291,Lambda292,PgClassExpression294,Access353 bucket24
    Bucket25("Bucket 25 (listItem)<br />Deps: 312<br /><br />ROOT __Item{25}ᐸ353ᐳ[310]"):::bucket
    classDef bucket25 stroke:#dda0dd
    class Bucket25,__Item310,PgSelectSingle311 bucket25
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 311, 312<br /><br />ROOT PgSelectSingle{25}ᐸbuildingsᐳ[311]"):::bucket
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgClassExpression313,List314,Lambda315,PgClassExpression317 bucket26
    Bucket27("Bucket 27 (nullableBoundary)<br />Deps: 325<br /><br />ROOT PgSelectSingleᐸhousesᐳ[325]"):::bucket
    classDef bucket27 stroke:#ffff00
    class Bucket27,PgClassExpression326,PgClassExpression327,PgClassExpression328,Constant329,PgClassExpression330,PgClassExpression331,List332,Lambda333 bucket27
    Bucket28("Bucket 28 (nullableBoundary)<br />Deps: 343<br /><br />ROOT PgSelectSingleᐸhousesᐳ[343]"):::bucket
    classDef bucket28 stroke:#00ffff
    class Bucket28,PgClassExpression344,PgClassExpression345,PgClassExpression346,Constant347,PgClassExpression348,PgClassExpression349,List350,Lambda351 bucket28
    Bucket0 --> Bucket1 & Bucket27 & Bucket28
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket7 & Bucket15 & Bucket19
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8 & Bucket11
    Bucket8 --> Bucket9
    Bucket9 --> Bucket10
    Bucket11 --> Bucket12
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    Bucket17 --> Bucket18
    Bucket19 --> Bucket20 & Bucket23
    Bucket20 --> Bucket21
    Bucket21 --> Bucket22
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25
    Bucket25 --> Bucket26
    end
