graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define plans
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __TrackedObject6["__TrackedObject[6∈0]"]:::plan
    Constant7["Constant[7∈1@1]"]:::plan
    Constant8["Constant[8∈1@1]"]:::plan
    Access10["Access[10∈1@1]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access11["Access[11∈1@1]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object12["Object[12∈1@1]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    PgSelect9[["PgSelect[9∈1@1]<br />ᐸrelational_postsᐳ"]]:::sideeffectplan
    Constant13["Constant[13∈1@1]"]:::plan
    Constant14["Constant[14∈1@1]"]:::plan
    PgSelect15[["PgSelect[15∈1@1]<br />ᐸrelational_postsᐳ"]]:::sideeffectplan
    Constant19["Constant[19∈1@1]"]:::plan
    Constant20["Constant[20∈1@1]"]:::plan
    PgSelect21[["PgSelect[21∈1@1]<br />ᐸrelational_postsᐳ"]]:::sideeffectplan
    First25["First[25∈1@1]"]:::plan
    PgSelectSingle26["PgSelectSingle[26∈1@1]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression27["PgClassExpression[27∈1@1]<br />ᐸ__relational_posts__ᐳ"]:::plan
    __InputStaticLeaf28["__InputStaticLeaf[28∈1@1]"]:::plan
    PgSelect29[["PgSelect[29∈1@1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First33["First[33∈1@1]"]:::plan
    PgSelectSingle34["PgSelectSingle[34∈1@1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression35["PgClassExpression[35∈1@1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic36["PgPolymorphic[36∈1@1]"]:::plan
    PgClassExpression37["PgClassExpression[37∈1@1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect46[["PgSelect[46∈1@1]<br />ᐸrelational_postsᐳ"]]:::plan
    First50["First[50∈1@1]"]:::plan
    PgSelectSingle51["PgSelectSingle[51∈2@1]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression53["PgClassExpression[53∈2@1]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression54["PgClassExpression[54∈2@1]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression55["PgClassExpression[55∈2@1]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan
    __InputStaticLeaf80["__InputStaticLeaf[80∈1@1]"]:::plan
    PgSelect81[["PgSelect[81∈1@1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First85["First[85∈1@1]"]:::plan
    PgSelectSingle86["PgSelectSingle[86∈1@1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression87["PgClassExpression[87∈1@1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic88["PgPolymorphic[88∈1@1]"]:::plan
    PgClassExpression89["PgClassExpression[89∈1@1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect98[["PgSelect[98∈1@1]<br />ᐸrelational_postsᐳ"]]:::plan
    First102["First[102∈1@1]"]:::plan
    PgSelectSingle103["PgSelectSingle[103∈3@1]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression105["PgClassExpression[105∈3@1]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression106["PgClassExpression[106∈3@1]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈3@1]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan
    __InputStaticLeaf132["__InputStaticLeaf[132∈1@1]"]:::plan
    PgSelect133[["PgSelect[133∈1@1]<br />ᐸrelational_itemsᐳ"]]:::plan
    First137["First[137∈1@1]"]:::plan
    PgSelectSingle138["PgSelectSingle[138∈1@1]<br />ᐸrelational_itemsᐳ"]:::plan
    PgClassExpression139["PgClassExpression[139∈1@1]<br />ᐸ__relation...s__.”type”ᐳ"]:::plan
    PgPolymorphic140["PgPolymorphic[140∈1@1]"]:::plan
    PgClassExpression141["PgClassExpression[141∈1@1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgSelect150[["PgSelect[150∈1@1]<br />ᐸrelational_postsᐳ"]]:::plan
    First154["First[154∈1@1]"]:::plan
    PgSelectSingle155["PgSelectSingle[155∈4@1]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression157["PgClassExpression[157∈4@1]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression158["PgClassExpression[158∈4@1]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression159["PgClassExpression[159∈4@1]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan

    %% plan dependencies
    __Value5 --> __TrackedObject6
    __Value3 --> Access10
    __Value3 --> Access11
    Access10 & Access11 --> Object12
    Object12 & Constant7 & Constant8 --> PgSelect9
    Object12 & Constant13 & Constant14 --> PgSelect15
    Object12 & Constant19 & Constant20 --> PgSelect21
    PgSelect21 --> First25
    First25 --> PgSelectSingle26
    PgSelectSingle26 --> PgClassExpression27
    Object12 & __InputStaticLeaf28 --> PgSelect29
    PgSelect29 --> First33
    First33 --> PgSelectSingle34
    PgSelectSingle34 --> PgClassExpression35
    PgSelectSingle34 & PgClassExpression35 --> PgPolymorphic36
    PgSelectSingle34 --> PgClassExpression37
    Object12 & PgClassExpression37 --> PgSelect46
    PgSelect46 --> First50
    First50 --> PgSelectSingle51
    PgSelectSingle51 --> PgClassExpression53
    PgSelectSingle51 --> PgClassExpression54
    PgSelectSingle51 --> PgClassExpression55
    Object12 & __InputStaticLeaf80 --> PgSelect81
    PgSelect81 --> First85
    First85 --> PgSelectSingle86
    PgSelectSingle86 --> PgClassExpression87
    PgSelectSingle86 & PgClassExpression87 --> PgPolymorphic88
    PgSelectSingle86 --> PgClassExpression89
    Object12 & PgClassExpression89 --> PgSelect98
    PgSelect98 --> First102
    First102 --> PgSelectSingle103
    PgSelectSingle103 --> PgClassExpression105
    PgSelectSingle103 --> PgClassExpression106
    PgSelectSingle103 --> PgClassExpression107
    Object12 & __InputStaticLeaf132 --> PgSelect133
    PgSelect133 --> First137
    First137 --> PgSelectSingle138
    PgSelectSingle138 --> PgClassExpression139
    PgSelectSingle138 & PgClassExpression139 --> PgPolymorphic140
    PgSelectSingle138 --> PgClassExpression141
    Object12 & PgClassExpression141 --> PgSelect150
    PgSelect150 --> First154
    First154 --> PgSelectSingle155
    PgSelectSingle155 --> PgClassExpression157
    PgSelectSingle155 --> PgClassExpression158
    PgSelectSingle155 --> PgClassExpression159

    %% plan-to-path relationships
    P0["~"]
    __Value0 -.-> P0
    P5["ᐳc…dᐳquery"]
    __Value5 -.-> P5
    P27["ᐳcreateThreeRelationalPostsComputed"]
    PgClassExpression27 -.-> P27
    P36["ᐳc…dᐳq…yᐳi1"]
    PgPolymorphic36 -.-> P36
    P37["ᐳc…dᐳq…yᐳi1ᐳid x5"]
    PgClassExpression37 -.-> P37
    P53["ᐳc…dᐳq…yᐳi1ᐳtitle"]
    PgClassExpression53 -.-> P53
    P54["ᐳc…dᐳq…yᐳi1ᐳdescription"]
    PgClassExpression54 -.-> P54
    P55["ᐳc…dᐳq…yᐳi1ᐳnote"]
    PgClassExpression55 -.-> P55
    P88["ᐳc…dᐳq…yᐳi2"]
    PgPolymorphic88 -.-> P88
    P89["ᐳc…dᐳq…yᐳi2ᐳid x5"]
    PgClassExpression89 -.-> P89
    P105["ᐳc…dᐳq…yᐳi2ᐳtitle"]
    PgClassExpression105 -.-> P105
    P106["ᐳc…dᐳq…yᐳi2ᐳdescription"]
    PgClassExpression106 -.-> P106
    P107["ᐳc…dᐳq…yᐳi2ᐳnote"]
    PgClassExpression107 -.-> P107
    P140["ᐳc…dᐳq…yᐳi3"]
    PgPolymorphic140 -.-> P140
    P141["ᐳc…dᐳq…yᐳi3ᐳid x5"]
    PgClassExpression141 -.-> P141
    P157["ᐳc…dᐳq…yᐳi3ᐳtitle"]
    PgClassExpression157 -.-> P157
    P158["ᐳc…dᐳq…yᐳi3ᐳdescription"]
    PgClassExpression158 -.-> P158
    P159["ᐳc…dᐳq…yᐳi3ᐳnote"]
    PgClassExpression159 -.-> P159

    subgraph "Buckets for mutations/basics/create-three-relational-posts-computed"
    Bucket0("Bucket 0 (root)<br />~<br />⠀ROOT ᐸ-O- 0"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__Value5,__TrackedObject6 bucket0
    Bucket1("Bucket 1 (group1[mutation])<br />Deps: 3, 5<br />~ᐳMutation.createThreeRelationalPostsComputed<br />⠀ROOT ᐸ-O- 27<br />⠀⠀query ᐸ-O- 5<br />⠀⠀⠀query.i1 ᐸ-O- 36<br />⠀⠀⠀⠀query.i1.id ᐸ-L- 37<br />⠀⠀⠀query.i2 ᐸ-O- 88<br />⠀⠀⠀⠀query.i2.id ᐸ-L- 89<br />⠀⠀⠀query.i3 ᐸ-O- 140<br />⠀⠀⠀⠀query.i3.id ᐸ-L- 141"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,Constant7,Constant8,PgSelect9,Access10,Access11,Object12,Constant13,Constant14,PgSelect15,Constant19,Constant20,PgSelect21,First25,PgSelectSingle26,PgClassExpression27,__InputStaticLeaf28,PgSelect29,First33,PgSelectSingle34,PgClassExpression35,PgPolymorphic36,PgClassExpression37,PgSelect46,First50,__InputStaticLeaf80,PgSelect81,First85,PgSelectSingle86,PgClassExpression87,PgPolymorphic88,PgClassExpression89,PgSelect98,First102,__InputStaticLeaf132,PgSelect133,First137,PgSelectSingle138,PgClassExpression139,PgPolymorphic140,PgClassExpression141,PgSelect150,First154 bucket1
    Bucket2("Bucket 2 (polymorphic36[RelationalPost])<br />Deps: 50<br />~ᐳMutation.createThreeRelationalPostsComputedᐳCreateRelationalPostPayload.queryᐳQuery.i1<br />⠀⠀title ᐸ-L- 53<br />⠀⠀description ᐸ-L- 54<br />⠀⠀note ᐸ-L- 55"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgSelectSingle51,PgClassExpression53,PgClassExpression54,PgClassExpression55 bucket2
    Bucket3("Bucket 3 (polymorphic88[RelationalPost])<br />Deps: 102<br />~ᐳMutation.createThreeRelationalPostsComputedᐳCreateRelationalPostPayload.queryᐳQuery.i2<br />⠀⠀title ᐸ-L- 105<br />⠀⠀description ᐸ-L- 106<br />⠀⠀note ᐸ-L- 107"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgSelectSingle103,PgClassExpression105,PgClassExpression106,PgClassExpression107 bucket3
    Bucket4("Bucket 4 (polymorphic140[RelationalPost])<br />Deps: 154<br />~ᐳMutation.createThreeRelationalPostsComputedᐳCreateRelationalPostPayload.queryᐳQuery.i3<br />⠀⠀title ᐸ-L- 157<br />⠀⠀description ᐸ-L- 158<br />⠀⠀note ᐸ-L- 159"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgSelectSingle155,PgClassExpression157,PgClassExpression158,PgClassExpression159 bucket4
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2 & Bucket3 & Bucket4
    end
