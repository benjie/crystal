graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define plans
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __TrackedObject6["__TrackedObject[6∈0]"]:::plan
    __InputStaticLeaf8["__InputStaticLeaf[8∈1@1]"]:::plan
    __InputStaticLeaf9["__InputStaticLeaf[9∈1@1]"]:::plan
    __InputStaticLeaf10["__InputStaticLeaf[10∈1@1]"]:::plan
    Constant11["Constant[11∈1@1]"]:::plan
    Constant12["Constant[12∈1@1]"]:::plan
    Access14["Access[14∈0] {1,2,3,4}<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access15["Access[15∈0] {1,2,3,4}<br />ᐸ3.withPgClientᐳ"]:::plan
    Object16["Object[16∈0] {1,2,3,4}<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    PgInsert13[["PgInsert[13∈1@1]"]]:::sideeffectplan
    PgClassExpression17["PgClassExpression[17∈1@1]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgInsert18[["PgInsert[18∈1@1]"]]:::sideeffectplan
    PgClassExpression22["PgClassExpression[22∈1@1]<br />ᐸ__relational_posts__ᐳ"]:::plan
    PgClassExpression23["PgClassExpression[23∈1@1]<br />ᐸ(__relatio...ts__).”id”ᐳ"]:::plan
    PgSelect25[["PgSelect[25∈1@1]<br />ᐸrelational_postsᐳ"]]:::plan
    First29["First[29∈1@1]"]:::plan
    PgSelectSingle30["PgSelectSingle[30∈1@1]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression31["PgClassExpression[31∈1@1]<br />ᐸ__relation...sts__.”id”ᐳ"]:::plan
    PgClassExpression32["PgClassExpression[32∈1@1]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression33["PgClassExpression[33∈1@1]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression34["PgClassExpression[34∈1@1]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan
    __InputStaticLeaf36["__InputStaticLeaf[36∈2@2]"]:::plan
    __InputStaticLeaf37["__InputStaticLeaf[37∈2@2]"]:::plan
    __InputStaticLeaf38["__InputStaticLeaf[38∈2@2]"]:::plan
    Constant39["Constant[39∈2@2]"]:::plan
    Constant40["Constant[40∈2@2]"]:::plan
    PgInsert41[["PgInsert[41∈2@2]"]]:::sideeffectplan
    PgClassExpression45["PgClassExpression[45∈2@2]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgInsert46[["PgInsert[46∈2@2]"]]:::sideeffectplan
    PgClassExpression50["PgClassExpression[50∈2@2]<br />ᐸ__relational_posts__ᐳ"]:::plan
    PgClassExpression51["PgClassExpression[51∈2@2]<br />ᐸ(__relatio...ts__).”id”ᐳ"]:::plan
    PgSelect53[["PgSelect[53∈2@2]<br />ᐸrelational_postsᐳ"]]:::plan
    First57["First[57∈2@2]"]:::plan
    PgSelectSingle58["PgSelectSingle[58∈2@2]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression59["PgClassExpression[59∈2@2]<br />ᐸ__relation...sts__.”id”ᐳ"]:::plan
    PgClassExpression60["PgClassExpression[60∈2@2]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression61["PgClassExpression[61∈2@2]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression62["PgClassExpression[62∈2@2]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan
    __InputStaticLeaf64["__InputStaticLeaf[64∈3@3]"]:::plan
    __InputStaticLeaf65["__InputStaticLeaf[65∈3@3]"]:::plan
    __InputStaticLeaf66["__InputStaticLeaf[66∈3@3]"]:::plan
    Constant67["Constant[67∈3@3]"]:::plan
    Constant68["Constant[68∈3@3]"]:::plan
    PgInsert69[["PgInsert[69∈3@3]"]]:::sideeffectplan
    PgClassExpression73["PgClassExpression[73∈3@3]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgInsert74[["PgInsert[74∈3@3]"]]:::sideeffectplan
    PgClassExpression78["PgClassExpression[78∈3@3]<br />ᐸ__relational_posts__ᐳ"]:::plan
    PgClassExpression79["PgClassExpression[79∈3@3]<br />ᐸ(__relatio...ts__).”id”ᐳ"]:::plan
    PgSelect81[["PgSelect[81∈3@3]<br />ᐸrelational_postsᐳ"]]:::plan
    First85["First[85∈3@3]"]:::plan
    PgSelectSingle86["PgSelectSingle[86∈3@3]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression87["PgClassExpression[87∈3@3]<br />ᐸ__relation...sts__.”id”ᐳ"]:::plan
    PgClassExpression88["PgClassExpression[88∈3@3]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression89["PgClassExpression[89∈3@3]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression90["PgClassExpression[90∈3@3]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan
    __InputStaticLeaf92["__InputStaticLeaf[92∈4@4]"]:::plan
    __InputStaticLeaf93["__InputStaticLeaf[93∈4@4]"]:::plan
    __InputStaticLeaf94["__InputStaticLeaf[94∈4@4]"]:::plan
    Constant95["Constant[95∈4@4]"]:::plan
    Constant96["Constant[96∈4@4]"]:::plan
    PgInsert97[["PgInsert[97∈4@4]"]]:::sideeffectplan
    PgClassExpression101["PgClassExpression[101∈4@4]<br />ᐸ__relation...ems__.”id”ᐳ"]:::plan
    PgInsert102[["PgInsert[102∈4@4]"]]:::sideeffectplan
    PgClassExpression106["PgClassExpression[106∈4@4]<br />ᐸ__relational_posts__ᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈4@4]<br />ᐸ(__relatio...ts__).”id”ᐳ"]:::plan
    PgSelect109[["PgSelect[109∈4@4]<br />ᐸrelational_postsᐳ"]]:::plan
    First113["First[113∈4@4]"]:::plan
    PgSelectSingle114["PgSelectSingle[114∈4@4]<br />ᐸrelational_postsᐳ"]:::plan
    PgClassExpression115["PgClassExpression[115∈4@4]<br />ᐸ__relation...sts__.”id”ᐳ"]:::plan
    PgClassExpression116["PgClassExpression[116∈4@4]<br />ᐸ__relation...__.”title”ᐳ"]:::plan
    PgClassExpression117["PgClassExpression[117∈4@4]<br />ᐸ__relation...scription”ᐳ"]:::plan
    PgClassExpression118["PgClassExpression[118∈4@4]<br />ᐸ__relation...s__.”note”ᐳ"]:::plan

    %% plan dependencies
    __Value5 --> __TrackedObject6
    __Value3 --> Access14
    __Value3 --> Access15
    Access14 & Access15 --> Object16
    Object16 & Constant11 & Constant12 --> PgInsert13
    PgInsert13 --> PgClassExpression17
    Object16 & PgClassExpression17 & __InputStaticLeaf8 & __InputStaticLeaf9 & __InputStaticLeaf10 --> PgInsert18
    PgInsert18 --> PgClassExpression22
    PgInsert18 --> PgClassExpression23
    Object16 & PgClassExpression23 --> PgSelect25
    PgSelect25 --> First29
    First29 --> PgSelectSingle30
    PgSelectSingle30 --> PgClassExpression31
    PgSelectSingle30 --> PgClassExpression32
    PgSelectSingle30 --> PgClassExpression33
    PgSelectSingle30 --> PgClassExpression34
    Object16 & Constant39 & Constant40 --> PgInsert41
    PgInsert41 --> PgClassExpression45
    Object16 & PgClassExpression45 & __InputStaticLeaf36 & __InputStaticLeaf37 & __InputStaticLeaf38 --> PgInsert46
    PgInsert46 --> PgClassExpression50
    PgInsert46 --> PgClassExpression51
    Object16 & PgClassExpression51 --> PgSelect53
    PgSelect53 --> First57
    First57 --> PgSelectSingle58
    PgSelectSingle58 --> PgClassExpression59
    PgSelectSingle58 --> PgClassExpression60
    PgSelectSingle58 --> PgClassExpression61
    PgSelectSingle58 --> PgClassExpression62
    Object16 & Constant67 & Constant68 --> PgInsert69
    PgInsert69 --> PgClassExpression73
    Object16 & PgClassExpression73 & __InputStaticLeaf64 & __InputStaticLeaf65 & __InputStaticLeaf66 --> PgInsert74
    PgInsert74 --> PgClassExpression78
    PgInsert74 --> PgClassExpression79
    Object16 & PgClassExpression79 --> PgSelect81
    PgSelect81 --> First85
    First85 --> PgSelectSingle86
    PgSelectSingle86 --> PgClassExpression87
    PgSelectSingle86 --> PgClassExpression88
    PgSelectSingle86 --> PgClassExpression89
    PgSelectSingle86 --> PgClassExpression90
    Object16 & Constant95 & Constant96 --> PgInsert97
    PgInsert97 --> PgClassExpression101
    Object16 & PgClassExpression101 & __InputStaticLeaf92 & __InputStaticLeaf93 & __InputStaticLeaf94 --> PgInsert102
    PgInsert102 --> PgClassExpression106
    PgInsert102 --> PgClassExpression107
    Object16 & PgClassExpression107 --> PgSelect109
    PgSelect109 --> First113
    First113 --> PgSelectSingle114
    PgSelectSingle114 --> PgClassExpression115
    PgSelectSingle114 --> PgClassExpression116
    PgSelectSingle114 --> PgClassExpression117
    PgSelectSingle114 --> PgClassExpression118

    %% plan-to-path relationships
    P0["~"]
    __Value0 -.-> P0
    P22["ᐳp1"]
    PgClassExpression22 -.-> P22
    P23["ᐳp1ᐳid"]
    PgClassExpression23 -.-> P23
    P30["ᐳp1ᐳpost"]
    PgSelectSingle30 -.-> P30
    P31["ᐳp1ᐳpostᐳid"]
    PgClassExpression31 -.-> P31
    P32["ᐳp1ᐳpostᐳtitle"]
    PgClassExpression32 -.-> P32
    P33["ᐳp1ᐳpostᐳdescription"]
    PgClassExpression33 -.-> P33
    P34["ᐳp1ᐳpostᐳnote"]
    PgClassExpression34 -.-> P34
    P50["ᐳp2"]
    PgClassExpression50 -.-> P50
    P51["ᐳp2ᐳid"]
    PgClassExpression51 -.-> P51
    P58["ᐳp2ᐳpost"]
    PgSelectSingle58 -.-> P58
    P59["ᐳp2ᐳpostᐳid"]
    PgClassExpression59 -.-> P59
    P60["ᐳp2ᐳpostᐳtitle"]
    PgClassExpression60 -.-> P60
    P61["ᐳp2ᐳpostᐳdescription"]
    PgClassExpression61 -.-> P61
    P62["ᐳp2ᐳpostᐳnote"]
    PgClassExpression62 -.-> P62
    P78["ᐳp3"]
    PgClassExpression78 -.-> P78
    P79["ᐳp3ᐳid"]
    PgClassExpression79 -.-> P79
    P86["ᐳp3ᐳpost"]
    PgSelectSingle86 -.-> P86
    P87["ᐳp3ᐳpostᐳid"]
    PgClassExpression87 -.-> P87
    P88["ᐳp3ᐳpostᐳtitle"]
    PgClassExpression88 -.-> P88
    P89["ᐳp3ᐳpostᐳdescription"]
    PgClassExpression89 -.-> P89
    P90["ᐳp3ᐳpostᐳnote"]
    PgClassExpression90 -.-> P90
    P106["ᐳp4"]
    PgClassExpression106 -.-> P106
    P107["ᐳp4ᐳid"]
    PgClassExpression107 -.-> P107
    P114["ᐳp4ᐳpost"]
    PgSelectSingle114 -.-> P114
    P115["ᐳp4ᐳpostᐳid"]
    PgClassExpression115 -.-> P115
    P116["ᐳp4ᐳpostᐳtitle"]
    PgClassExpression116 -.-> P116
    P117["ᐳp4ᐳpostᐳdescription"]
    PgClassExpression117 -.-> P117
    P118["ᐳp4ᐳpostᐳnote"]
    PgClassExpression118 -.-> P118

    subgraph "Buckets for mutations/basics/create-relational-post-x4"
    Bucket0("Bucket 0 (root)<br />~<br />⠀ROOT ᐸ-O- 0"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__Value5,__TrackedObject6,Access14,Access15,Object16 bucket0
    Bucket1("Bucket 1 (group1[mutation])<br />Deps: 16<br />~ᐳMutation.p1<br />⠀ROOT ᐸ-O- 22<br />⠀⠀id ᐸ-L- 23<br />⠀⠀post ᐸ-O- 30<br />⠀⠀⠀post.id ᐸ-L- 31<br />⠀⠀⠀post.title ᐸ-L- 32<br />⠀⠀⠀post.description ᐸ-L- 33<br />⠀⠀⠀post.note ᐸ-L- 34"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__InputStaticLeaf8,__InputStaticLeaf9,__InputStaticLeaf10,Constant11,Constant12,PgInsert13,PgClassExpression17,PgInsert18,PgClassExpression22,PgClassExpression23,PgSelect25,First29,PgSelectSingle30,PgClassExpression31,PgClassExpression32,PgClassExpression33,PgClassExpression34 bucket1
    Bucket2("Bucket 2 (group2[mutation])<br />Deps: 16<br />~ᐳMutation.p2<br />⠀ROOT ᐸ-O- 50<br />⠀⠀id ᐸ-L- 51<br />⠀⠀post ᐸ-O- 58<br />⠀⠀⠀post.id ᐸ-L- 59<br />⠀⠀⠀post.title ᐸ-L- 60<br />⠀⠀⠀post.description ᐸ-L- 61<br />⠀⠀⠀post.note ᐸ-L- 62"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__InputStaticLeaf36,__InputStaticLeaf37,__InputStaticLeaf38,Constant39,Constant40,PgInsert41,PgClassExpression45,PgInsert46,PgClassExpression50,PgClassExpression51,PgSelect53,First57,PgSelectSingle58,PgClassExpression59,PgClassExpression60,PgClassExpression61,PgClassExpression62 bucket2
    Bucket3("Bucket 3 (group3[mutation])<br />Deps: 16<br />~ᐳMutation.p3<br />⠀ROOT ᐸ-O- 78<br />⠀⠀id ᐸ-L- 79<br />⠀⠀post ᐸ-O- 86<br />⠀⠀⠀post.id ᐸ-L- 87<br />⠀⠀⠀post.title ᐸ-L- 88<br />⠀⠀⠀post.description ᐸ-L- 89<br />⠀⠀⠀post.note ᐸ-L- 90"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__InputStaticLeaf64,__InputStaticLeaf65,__InputStaticLeaf66,Constant67,Constant68,PgInsert69,PgClassExpression73,PgInsert74,PgClassExpression78,PgClassExpression79,PgSelect81,First85,PgSelectSingle86,PgClassExpression87,PgClassExpression88,PgClassExpression89,PgClassExpression90 bucket3
    Bucket4("Bucket 4 (group4[mutation])<br />Deps: 16<br />~ᐳMutation.p4<br />⠀ROOT ᐸ-O- 106<br />⠀⠀id ᐸ-L- 107<br />⠀⠀post ᐸ-O- 114<br />⠀⠀⠀post.id ᐸ-L- 115<br />⠀⠀⠀post.title ᐸ-L- 116<br />⠀⠀⠀post.description ᐸ-L- 117<br />⠀⠀⠀post.note ᐸ-L- 118"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__InputStaticLeaf92,__InputStaticLeaf93,__InputStaticLeaf94,Constant95,Constant96,PgInsert97,PgClassExpression101,PgInsert102,PgClassExpression106,PgClassExpression107,PgSelect109,First113,PgSelectSingle114,PgClassExpression115,PgClassExpression116,PgClassExpression117,PgClassExpression118 bucket4
    Bucket0 --> Bucket1 & Bucket2 & Bucket3 & Bucket4
    end
