graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define plans
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __InputStaticLeaf7["__InputStaticLeaf[7∈0]"]:::plan
    __InputStaticLeaf11["__InputStaticLeaf[11∈0]"]:::plan
    Access31["Access[31∈0]<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access32["Access[32∈0]<br />ᐸ3.withPgClientᐳ"]:::plan
    Object33["Object[33∈0]<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    Lambda35["Lambda[35∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection34["Connection[34∈0]<br />ᐸ30ᐳ"]:::plan
    PgPageInfo36["PgPageInfo[36∈0]"]:::plan
    PgValidateParsedCursor41["PgValidateParsedCursor[41∈0]"]:::plan
    Access42["Access[42∈0]<br />ᐸ35.1ᐳ"]:::plan
    ToPg43["ToPg[43∈0]"]:::plan
    PgSelect37[["PgSelect[37∈0]<br />ᐸpersonᐳ"]]:::plan
    First38["First[38∈0]"]:::plan
    PgSelectSingle39["PgSelectSingle[39∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression44["PgClassExpression[44∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List45["List[45∈0]<br />ᐸ44ᐳ"]:::plan
    PgCursor40["PgCursor[40∈0]"]:::plan
    Last47["Last[47∈0]"]:::plan
    PgSelectSingle48["PgSelectSingle[48∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression53["PgClassExpression[53∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List54["List[54∈0]<br />ᐸ53ᐳ"]:::plan
    PgCursor49["PgCursor[49∈0]"]:::plan
    Lambda56["Lambda[56∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant60["Constant[60∈0]"]:::plan
    PgSelect61[["PgSelect[61∈0]<br />ᐸpersonᐳ"]]:::plan
    First62["First[62∈0]"]:::plan
    PgSelectSingle63["PgSelectSingle[63∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression64["PgClassExpression[64∈0]<br />ᐸcount(*)ᐳ"]:::plan
    __Item69>"__Item[69∈1]<br />ᐸ37ᐳ"]:::itemplan
    PgSelectSingle70["PgSelectSingle[70∈1]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression72["PgClassExpression[72∈1]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List73["List[73∈1]<br />ᐸ72ᐳ"]:::plan
    PgCursor71["PgCursor[71∈1]"]:::plan
    PgClassExpression75["PgClassExpression[75∈1]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression76["PgClassExpression[76∈1]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression77["PgClassExpression[77∈1]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression78["PgClassExpression[78∈1]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan
    __InputStaticLeaf79["__InputStaticLeaf[79∈0]"]:::plan
    __InputStaticLeaf83["__InputStaticLeaf[83∈0]"]:::plan
    Lambda107["Lambda[107∈0]<br />ᐸparseCursorᐳ"]:::plan
    Connection106["Connection[106∈0]<br />ᐸ102ᐳ"]:::plan
    PgPageInfo108["PgPageInfo[108∈0]"]:::plan
    PgValidateParsedCursor113["PgValidateParsedCursor[113∈0]"]:::plan
    Access114["Access[114∈0]<br />ᐸ107.1ᐳ"]:::plan
    ToPg115["ToPg[115∈0]"]:::plan
    PgSelect109[["PgSelect[109∈0]<br />ᐸpersonᐳ"]]:::plan
    First110["First[110∈0]"]:::plan
    PgSelectSingle111["PgSelectSingle[111∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression116["PgClassExpression[116∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List117["List[117∈0]<br />ᐸ116ᐳ"]:::plan
    PgCursor112["PgCursor[112∈0]"]:::plan
    Last119["Last[119∈0]"]:::plan
    PgSelectSingle120["PgSelectSingle[120∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression125["PgClassExpression[125∈0]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List126["List[126∈0]<br />ᐸ125ᐳ"]:::plan
    PgCursor121["PgCursor[121∈0]"]:::plan
    Lambda128["Lambda[128∈0]<br />ᐸlistHasMoreᐳ"]:::plan
    Constant132["Constant[132∈0]"]:::plan
    PgSelect133[["PgSelect[133∈0]<br />ᐸpersonᐳ"]]:::plan
    First134["First[134∈0]"]:::plan
    PgSelectSingle135["PgSelectSingle[135∈0]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression136["PgClassExpression[136∈0]<br />ᐸcount(*)ᐳ"]:::plan
    __Item141>"__Item[141∈2]<br />ᐸ109ᐳ"]:::itemplan
    PgSelectSingle142["PgSelectSingle[142∈2]<br />ᐸpersonᐳ"]:::plan
    PgClassExpression144["PgClassExpression[144∈2]<br />ᐸ__person__.”id”ᐳ"]:::plan
    List145["List[145∈2]<br />ᐸ144ᐳ"]:::plan
    PgCursor143["PgCursor[143∈2]"]:::plan
    PgClassExpression147["PgClassExpression[147∈2]<br />ᐸ__person__...full_name”ᐳ"]:::plan
    PgClassExpression148["PgClassExpression[148∈2]<br />ᐸ__person__.”email”ᐳ"]:::plan
    PgClassExpression149["PgClassExpression[149∈2]<br />ᐸ__person__.”config”ᐳ"]:::plan
    PgClassExpression150["PgClassExpression[150∈2]<br />ᐸ__person__...n_from_ip”ᐳ"]:::plan

    %% plan dependencies
    __Value3 --> Access31
    __Value3 --> Access32
    Access31 & Access32 --> Object33
    __InputStaticLeaf11 --> Lambda35
    __InputStaticLeaf7 & Lambda35 --> Connection34
    Lambda35 --> PgValidateParsedCursor41
    Lambda35 --> Access42
    Access42 --> ToPg43
    Object33 & Connection34 & Lambda35 & PgValidateParsedCursor41 & ToPg43 --> PgSelect37
    PgSelect37 --> First38
    First38 --> PgSelectSingle39
    PgSelectSingle39 --> PgClassExpression44
    PgClassExpression44 --> List45
    List45 --> PgCursor40
    PgSelect37 --> Last47
    Last47 --> PgSelectSingle48
    PgSelectSingle48 --> PgClassExpression53
    PgClassExpression53 --> List54
    List54 --> PgCursor49
    PgSelect37 --> Lambda56
    Object33 & Connection34 --> PgSelect61
    PgSelect61 --> First62
    First62 --> PgSelectSingle63
    PgSelectSingle63 --> PgClassExpression64
    PgSelect37 ==> __Item69
    __Item69 --> PgSelectSingle70
    PgSelectSingle70 --> PgClassExpression72
    PgClassExpression72 --> List73
    List73 --> PgCursor71
    PgSelectSingle70 --> PgClassExpression75
    PgSelectSingle70 --> PgClassExpression76
    PgSelectSingle70 --> PgClassExpression77
    PgSelectSingle70 --> PgClassExpression78
    __InputStaticLeaf83 --> Lambda107
    __InputStaticLeaf79 & Lambda107 --> Connection106
    Lambda107 --> PgValidateParsedCursor113
    Lambda107 --> Access114
    Access114 --> ToPg115
    Object33 & Connection106 & Lambda107 & PgValidateParsedCursor113 & ToPg115 --> PgSelect109
    PgSelect109 --> First110
    First110 --> PgSelectSingle111
    PgSelectSingle111 --> PgClassExpression116
    PgClassExpression116 --> List117
    List117 --> PgCursor112
    PgSelect109 --> Last119
    Last119 --> PgSelectSingle120
    PgSelectSingle120 --> PgClassExpression125
    PgClassExpression125 --> List126
    List126 --> PgCursor121
    PgSelect109 --> Lambda128
    Object33 & Connection106 --> PgSelect133
    PgSelect133 --> First134
    First134 --> PgSelectSingle135
    PgSelectSingle135 --> PgClassExpression136
    PgSelect109 ==> __Item141
    __Item141 --> PgSelectSingle142
    PgSelectSingle142 --> PgClassExpression144
    PgClassExpression144 --> List145
    List145 --> PgCursor143
    PgSelectSingle142 --> PgClassExpression147
    PgSelectSingle142 --> PgClassExpression148
    PgSelectSingle142 --> PgClassExpression149
    PgSelectSingle142 --> PgClassExpression150

    %% plan-to-path relationships
    P0["~"]
    __Value0 -.-> P0
    P34["ᐳblankCursor"]
    Connection34 -.-> P34
    P36["ᐳb…rᐳpageInfo"]
    PgPageInfo36 -.-> P36
    P37["ᐳb…rᐳedges"]
    PgSelect37 -.-> P37
    P40["ᐳb…rᐳp…oᐳstartCursor"]
    PgCursor40 -.-> P40
    P49["ᐳb…rᐳp…oᐳendCursor"]
    PgCursor49 -.-> P49
    P56["ᐳb…rᐳp…oᐳhasNextPage"]
    Lambda56 -.-> P56
    P60["ᐳb…rᐳp…oᐳhasPreviousPage"]
    Constant60 -.-> P60
    P64["ᐳb…rᐳtotalCount"]
    PgClassExpression64 -.-> P64
    P70["ᐳb…rᐳedges[]<br />ᐳb…rᐳe…]ᐳnode"]
    PgSelectSingle70 -.-> P70
    P71["ᐳb…rᐳe…]ᐳcursor"]
    PgCursor71 -.-> P71
    P72["ᐳb…rᐳe…]ᐳnodeᐳid"]
    PgClassExpression72 -.-> P72
    P75["ᐳb…rᐳe…]ᐳnodeᐳname"]
    PgClassExpression75 -.-> P75
    P76["ᐳb…rᐳe…]ᐳnodeᐳemail"]
    PgClassExpression76 -.-> P76
    P77["ᐳb…rᐳe…]ᐳnodeᐳconfig"]
    PgClassExpression77 -.-> P77
    P78["ᐳb…rᐳe…]ᐳnodeᐳlastLoginFromIp"]
    PgClassExpression78 -.-> P78
    P106["ᐳinvalidCursor"]
    Connection106 -.-> P106
    P108["ᐳi…rᐳpageInfo"]
    PgPageInfo108 -.-> P108
    P109["ᐳi…rᐳedges"]
    PgSelect109 -.-> P109
    P112["ᐳi…rᐳp…oᐳstartCursor"]
    PgCursor112 -.-> P112
    P121["ᐳi…rᐳp…oᐳendCursor"]
    PgCursor121 -.-> P121
    P128["ᐳi…rᐳp…oᐳhasNextPage"]
    Lambda128 -.-> P128
    P132["ᐳi…rᐳp…oᐳhasPreviousPage"]
    Constant132 -.-> P132
    P136["ᐳi…rᐳtotalCount"]
    PgClassExpression136 -.-> P136
    P142["ᐳi…rᐳedges[]<br />ᐳi…rᐳe…]ᐳnode"]
    PgSelectSingle142 -.-> P142
    P143["ᐳi…rᐳe…]ᐳcursor"]
    PgCursor143 -.-> P143
    P144["ᐳi…rᐳe…]ᐳnodeᐳid"]
    PgClassExpression144 -.-> P144
    P147["ᐳi…rᐳe…]ᐳnodeᐳname"]
    PgClassExpression147 -.-> P147
    P148["ᐳi…rᐳe…]ᐳnodeᐳemail"]
    PgClassExpression148 -.-> P148
    P149["ᐳi…rᐳe…]ᐳnodeᐳconfig"]
    PgClassExpression149 -.-> P149
    P150["ᐳi…rᐳe…]ᐳnodeᐳlastLoginFromIp"]
    PgClassExpression150 -.-> P150

    subgraph "Buckets for queries/v4/connections-blankcursor"
    Bucket0("Bucket 0 (root)<br />~<br />⠀ROOT ᐸ-O- 0<br />⠀⠀blankCursor ᐸ-O- 34<br />⠀⠀⠀blankCursor.pageInfo ᐸ-O- 36<br />⠀⠀⠀⠀blankCursor.pageInfo.startCursor ᐸ-L- 40<br />⠀⠀⠀⠀blankCursor.pageInfo.endCursor ᐸ-L- 49<br />⠀⠀⠀⠀blankCursor.pageInfo.hasNextPage ᐸ-L- 56<br />⠀⠀⠀⠀blankCursor.pageInfo.hasPreviousPage ᐸ-L- 60<br />⠀⠀⠀blankCursor.edges ᐸ-A- 37<br />⠀⠀⠀blankCursor.totalCount ᐸ-L- 64<br />⠀⠀invalidCursor ᐸ-O- 106<br />⠀⠀⠀invalidCursor.pageInfo ᐸ-O- 108<br />⠀⠀⠀⠀invalidCursor.pageInfo.startCursor ᐸ-L- 112<br />⠀⠀⠀⠀invalidCursor.pageInfo.endCursor ᐸ-L- 121<br />⠀⠀⠀⠀invalidCursor.pageInfo.hasNextPage ᐸ-L- 128<br />⠀⠀⠀⠀invalidCursor.pageInfo.hasPreviousPage ᐸ-L- 132<br />⠀⠀⠀invalidCursor.edges ᐸ-A- 109<br />⠀⠀⠀invalidCursor.totalCount ᐸ-L- 136"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__InputStaticLeaf7,__InputStaticLeaf11,Access31,Access32,Object33,Connection34,Lambda35,PgPageInfo36,PgSelect37,First38,PgSelectSingle39,PgCursor40,PgValidateParsedCursor41,Access42,ToPg43,PgClassExpression44,List45,Last47,PgSelectSingle48,PgCursor49,PgClassExpression53,List54,Lambda56,Constant60,PgSelect61,First62,PgSelectSingle63,PgClassExpression64,__InputStaticLeaf79,__InputStaticLeaf83,Connection106,Lambda107,PgPageInfo108,PgSelect109,First110,PgSelectSingle111,PgCursor112,PgValidateParsedCursor113,Access114,ToPg115,PgClassExpression116,List117,Last119,PgSelectSingle120,PgCursor121,PgClassExpression125,List126,Lambda128,Constant132,PgSelect133,First134,PgSelectSingle135,PgClassExpression136 bucket0
    Bucket1("Bucket 1 (item69)<br />Deps: 37<br />~ᐳQuery.blankCursorᐳPeopleConnection.edges[]<br />⠀ROOT ᐸ-O- 70<br />⠀⠀node ᐸ-O- 70<br />⠀⠀⠀node.id ᐸ-L- 72<br />⠀⠀⠀node.name ᐸ-L- 75<br />⠀⠀⠀node.email ᐸ-L- 76<br />⠀⠀⠀node.config ᐸ-L- 77<br />⠀⠀⠀node.lastLoginFromIp ᐸ-L- 78<br />⠀⠀cursor ᐸ-L- 71"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item69,PgSelectSingle70,PgCursor71,PgClassExpression72,List73,PgClassExpression75,PgClassExpression76,PgClassExpression77,PgClassExpression78 bucket1
    Bucket2("Bucket 2 (item141)<br />Deps: 109<br />~ᐳQuery.invalidCursorᐳPeopleConnection.edges[]<br />⠀ROOT ᐸ-O- 142<br />⠀⠀node ᐸ-O- 142<br />⠀⠀⠀node.id ᐸ-L- 144<br />⠀⠀⠀node.name ᐸ-L- 147<br />⠀⠀⠀node.email ᐸ-L- 148<br />⠀⠀⠀node.config ᐸ-L- 149<br />⠀⠀⠀node.lastLoginFromIp ᐸ-L- 150<br />⠀⠀cursor ᐸ-L- 143"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item141,PgSelectSingle142,PgCursor143,PgClassExpression144,List145,PgClassExpression147,PgClassExpression148,PgClassExpression149,PgClassExpression150 bucket2
    Bucket0 --> Bucket1 & Bucket2
    end
