graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:3px,color:#000
    classDef itemplan fill:#fff,stroke-width:6px,color:#000
    classDef sideeffectplan fill:#f00,stroke-width:6px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:6px,text-align:left


    %% define plans
    __Value0["__Value[0∈0]"]:::plan
    __Value3["__Value[3∈0]<br />ᐸcontextᐳ"]:::plan
    __Value5["__Value[5∈0]<br />ᐸrootValueᐳ"]:::plan
    __TrackedObject6["__TrackedObject[6∈0]"]:::plan
    __InputStaticLeaf9["__InputStaticLeaf[9∈1@1]"]:::plan
    __InputStaticLeaf12["__InputStaticLeaf[12∈1@1]"]:::plan
    __InputStaticLeaf13["__InputStaticLeaf[13∈1@1]"]:::plan
    __InputStaticLeaf15["__InputStaticLeaf[15∈1@1]"]:::plan
    __InputStaticLeaf16["__InputStaticLeaf[16∈1@1]"]:::plan
    __InputStaticLeaf17["__InputStaticLeaf[17∈1@1]"]:::plan
    __InputStaticLeaf20["__InputStaticLeaf[20∈1@1]"]:::plan
    Access35["Access[35∈0] {1,2}<br />ᐸ3.pgSettingsᐳ"]:::plan
    Access36["Access[36∈0] {1,2}<br />ᐸ3.withPgClientᐳ"]:::plan
    Object37["Object[37∈0] {1,2}<br />ᐸ{pgSettings,withPgClient}ᐳ"]:::plan
    List39["List[39∈1@1]<br />ᐸ15,16,17ᐳ"]:::plan
    Object40["Object[40∈1@1]<br />ᐸ{a}ᐳ"]:::plan
    PgUpdate34[["PgUpdate[34∈1@1]"]]:::sideeffectplan
    Object38["Object[38∈1@1]<br />ᐸ{result}ᐳ"]:::plan
    PgClassExpression41["PgClassExpression[41∈1@1]<br />ᐸ__types__.”id”ᐳ"]:::plan
    PgClassExpression42["PgClassExpression[42∈1@1]<br />ᐸ__types__.”regrole”ᐳ"]:::plan
    PgClassExpression43["PgClassExpression[43∈1@1]<br />ᐸ__types__....namespace”ᐳ"]:::plan
    PgClassExpression44["PgClassExpression[44∈1@1]<br />ᐸ__types__....ay_domain”ᐳ"]:::plan
    __Item45>"__Item[45∈2@1]<br />ᐸ44ᐳ"]:::itemplan
    PgClassExpression46["PgClassExpression[46∈1@1]<br />ᐸ__types__....ound_type”ᐳ"]:::plan
    PgSelect47[["PgSelect[47∈1@1]<br />ᐸTemporarySource1ᐳ"]]:::plan
    First51["First[51∈1@1]"]:::plan
    PgSelectSingle52["PgSelectSingle[52∈1@1]<br />ᐸTemporarySource1ᐳ"]:::plan
    PgClassExpression53["PgClassExpression[53∈1@1]<br />ᐸ__temporar...rce1__.”a”ᐳ"]:::plan
    PgClassExpression54["PgClassExpression[54∈1@1]<br />ᐸ__temporar...rce1__.”b”ᐳ"]:::plan
    PgClassExpression55["PgClassExpression[55∈1@1]<br />ᐸ__temporar...rce1__.”c”ᐳ"]:::plan
    PgClassExpression56["PgClassExpression[56∈1@1]<br />ᐸ__temporar...rce1__.”d”ᐳ"]:::plan
    PgClassExpression57["PgClassExpression[57∈1@1]<br />ᐸ__temporar...rce1__.”e”ᐳ"]:::plan
    PgClassExpression58["PgClassExpression[58∈1@1]<br />ᐸ__temporar...rce1__.”f”ᐳ"]:::plan
    PgClassExpression59["PgClassExpression[59∈1@1]<br />ᐸ__temporar....”foo_bar”ᐳ"]:::plan
    __InputStaticLeaf64["__InputStaticLeaf[64∈3@2]"]:::plan
    __InputStaticLeaf65["__InputStaticLeaf[65∈3@2]"]:::plan
    __InputStaticLeaf67["__InputStaticLeaf[67∈3@2]"]:::plan
    __InputStaticLeaf68["__InputStaticLeaf[68∈3@2]"]:::plan
    __InputStaticLeaf69["__InputStaticLeaf[69∈3@2]"]:::plan
    __InputStaticLeaf72["__InputStaticLeaf[72∈3@2]"]:::plan
    List91["List[91∈3@2]<br />ᐸ67,68,69ᐳ"]:::plan
    Object92["Object[92∈3@2]<br />ᐸ{a}ᐳ"]:::plan
    PgInsert86[["PgInsert[86∈3@2]"]]:::sideeffectplan
    Object90["Object[90∈3@2]<br />ᐸ{result}ᐳ"]:::plan
    PgClassExpression93["PgClassExpression[93∈3@2]<br />ᐸ__types__.”id”ᐳ"]:::plan
    PgClassExpression94["PgClassExpression[94∈3@2]<br />ᐸ__types__.”regrole”ᐳ"]:::plan
    PgClassExpression95["PgClassExpression[95∈3@2]<br />ᐸ__types__....namespace”ᐳ"]:::plan
    PgClassExpression96["PgClassExpression[96∈3@2]<br />ᐸ__types__....ay_domain”ᐳ"]:::plan
    __Item97>"__Item[97∈4@2]<br />ᐸ96ᐳ"]:::itemplan
    PgClassExpression98["PgClassExpression[98∈3@2]<br />ᐸ__types__....ound_type”ᐳ"]:::plan
    PgSelect99[["PgSelect[99∈3@2]<br />ᐸTemporarySource1ᐳ"]]:::plan
    First103["First[103∈3@2]"]:::plan
    PgSelectSingle104["PgSelectSingle[104∈3@2]<br />ᐸTemporarySource1ᐳ"]:::plan
    PgClassExpression105["PgClassExpression[105∈3@2]<br />ᐸ__temporar...rce1__.”a”ᐳ"]:::plan
    PgClassExpression106["PgClassExpression[106∈3@2]<br />ᐸ__temporar...rce1__.”b”ᐳ"]:::plan
    PgClassExpression107["PgClassExpression[107∈3@2]<br />ᐸ__temporar...rce1__.”c”ᐳ"]:::plan
    PgClassExpression108["PgClassExpression[108∈3@2]<br />ᐸ__temporar...rce1__.”d”ᐳ"]:::plan
    PgClassExpression109["PgClassExpression[109∈3@2]<br />ᐸ__temporar...rce1__.”e”ᐳ"]:::plan
    PgClassExpression110["PgClassExpression[110∈3@2]<br />ᐸ__temporar...rce1__.”f”ᐳ"]:::plan
    PgClassExpression111["PgClassExpression[111∈3@2]<br />ᐸ__temporar....”foo_bar”ᐳ"]:::plan

    %% plan dependencies
    __Value5 --> __TrackedObject6
    __Value3 --> Access35
    __Value3 --> Access36
    Access35 & Access36 --> Object37
    __InputStaticLeaf15 & __InputStaticLeaf16 & __InputStaticLeaf17 --> List39
    __InputStaticLeaf20 --> Object40
    Object37 & __InputStaticLeaf9 & __InputStaticLeaf12 & __InputStaticLeaf13 & List39 & Object40 --> PgUpdate34
    PgUpdate34 --> Object38
    PgUpdate34 --> PgClassExpression41
    PgUpdate34 --> PgClassExpression42
    PgUpdate34 --> PgClassExpression43
    PgUpdate34 --> PgClassExpression44
    PgClassExpression44 ==> __Item45
    PgUpdate34 --> PgClassExpression46
    Object37 & PgClassExpression46 --> PgSelect47
    PgSelect47 --> First51
    First51 --> PgSelectSingle52
    PgSelectSingle52 --> PgClassExpression53
    PgSelectSingle52 --> PgClassExpression54
    PgSelectSingle52 --> PgClassExpression55
    PgSelectSingle52 --> PgClassExpression56
    PgSelectSingle52 --> PgClassExpression57
    PgSelectSingle52 --> PgClassExpression58
    PgSelectSingle52 --> PgClassExpression59
    __InputStaticLeaf67 & __InputStaticLeaf68 & __InputStaticLeaf69 --> List91
    __InputStaticLeaf72 --> Object92
    Object37 & __InputStaticLeaf64 & __InputStaticLeaf65 & List91 & Object92 --> PgInsert86
    PgInsert86 --> Object90
    PgInsert86 --> PgClassExpression93
    PgInsert86 --> PgClassExpression94
    PgInsert86 --> PgClassExpression95
    PgInsert86 --> PgClassExpression96
    PgClassExpression96 ==> __Item97
    PgInsert86 --> PgClassExpression98
    Object37 & PgClassExpression98 --> PgSelect99
    PgSelect99 --> First103
    First103 --> PgSelectSingle104
    PgSelectSingle104 --> PgClassExpression105
    PgSelectSingle104 --> PgClassExpression106
    PgSelectSingle104 --> PgClassExpression107
    PgSelectSingle104 --> PgClassExpression108
    PgSelectSingle104 --> PgClassExpression109
    PgSelectSingle104 --> PgClassExpression110
    PgSelectSingle104 --> PgClassExpression111

    %% plan-to-path relationships
    P0["~"]
    __Value0 -.-> P0
    P34["ᐳu…dᐳtype"]
    PgUpdate34 -.-> P34
    P38["ᐳupdateTypeById"]
    Object38 -.-> P38
    P41["ᐳu…dᐳtypeᐳid"]
    PgClassExpression41 -.-> P41
    P42["ᐳu…dᐳtypeᐳregrole"]
    PgClassExpression42 -.-> P42
    P43["ᐳu…dᐳtypeᐳregnamespace"]
    PgClassExpression43 -.-> P43
    P44["ᐳu…dᐳtypeᐳbigintDomainArrayDomain"]
    PgClassExpression44 -.-> P44
    P45["ᐳu…dᐳtypeᐳbigintDomainArrayDomain[]"]
    __Item45 -.-> P45
    P52["ᐳu…dᐳtypeᐳdomainConstrainedCompoundType"]
    PgSelectSingle52 -.-> P52
    P53["ᐳu…dᐳtypeᐳd…eᐳa"]
    PgClassExpression53 -.-> P53
    P54["ᐳu…dᐳtypeᐳd…eᐳb"]
    PgClassExpression54 -.-> P54
    P55["ᐳu…dᐳtypeᐳd…eᐳc"]
    PgClassExpression55 -.-> P55
    P56["ᐳu…dᐳtypeᐳd…eᐳd"]
    PgClassExpression56 -.-> P56
    P57["ᐳu…dᐳtypeᐳd…eᐳe"]
    PgClassExpression57 -.-> P57
    P58["ᐳu…dᐳtypeᐳd…eᐳf"]
    PgClassExpression58 -.-> P58
    P59["ᐳu…dᐳtypeᐳd…eᐳfooBar"]
    PgClassExpression59 -.-> P59
    P86["ᐳc…eᐳtype"]
    PgInsert86 -.-> P86
    P90["ᐳcreateType"]
    Object90 -.-> P90
    P93["ᐳc…eᐳtypeᐳid"]
    PgClassExpression93 -.-> P93
    P94["ᐳc…eᐳtypeᐳregrole"]
    PgClassExpression94 -.-> P94
    P95["ᐳc…eᐳtypeᐳregnamespace"]
    PgClassExpression95 -.-> P95
    P96["ᐳc…eᐳtypeᐳbigintDomainArrayDomain"]
    PgClassExpression96 -.-> P96
    P97["ᐳc…eᐳtypeᐳbigintDomainArrayDomain[]"]
    __Item97 -.-> P97
    P104["ᐳc…eᐳtypeᐳdomainConstrainedCompoundType"]
    PgSelectSingle104 -.-> P104
    P105["ᐳc…eᐳtypeᐳd…eᐳa"]
    PgClassExpression105 -.-> P105
    P106["ᐳc…eᐳtypeᐳd…eᐳb"]
    PgClassExpression106 -.-> P106
    P107["ᐳc…eᐳtypeᐳd…eᐳc"]
    PgClassExpression107 -.-> P107
    P108["ᐳc…eᐳtypeᐳd…eᐳd"]
    PgClassExpression108 -.-> P108
    P109["ᐳc…eᐳtypeᐳd…eᐳe"]
    PgClassExpression109 -.-> P109
    P110["ᐳc…eᐳtypeᐳd…eᐳf"]
    PgClassExpression110 -.-> P110
    P111["ᐳc…eᐳtypeᐳd…eᐳfooBar"]
    PgClassExpression111 -.-> P111

    subgraph "Buckets for mutations/v4/pg11.types"
    Bucket0("Bucket 0 (root)<br />~<br />⠀ROOT ᐸ-O- 0"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value3,__Value5,__TrackedObject6,Access35,Access36,Object37 bucket0
    Bucket1("Bucket 1 (group1[mutation])<br />Deps: 37<br />~ᐳMutation.updateTypeById<br />⠀ROOT ᐸ-O- 38<br />⠀⠀type ᐸ-O- 34<br />⠀⠀⠀type.id ᐸ-L- 41<br />⠀⠀⠀type.regrole ᐸ-L- 42<br />⠀⠀⠀type.regnamespace ᐸ-L- 43<br />⠀⠀⠀type.bigintDomainArrayDomain ᐸ-A- 44<br />⠀⠀⠀type.domainConstrainedCompoundType ᐸ-O- 52<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.a ᐸ-L- 53<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.b ᐸ-L- 54<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.c ᐸ-L- 55<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.d ᐸ-L- 56<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.e ᐸ-L- 57<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.f ᐸ-L- 58<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.fooBar ᐸ-L- 59"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__InputStaticLeaf9,__InputStaticLeaf12,__InputStaticLeaf13,__InputStaticLeaf15,__InputStaticLeaf16,__InputStaticLeaf17,__InputStaticLeaf20,PgUpdate34,Object38,List39,Object40,PgClassExpression41,PgClassExpression42,PgClassExpression43,PgClassExpression44,PgClassExpression46,PgSelect47,First51,PgSelectSingle52,PgClassExpression53,PgClassExpression54,PgClassExpression55,PgClassExpression56,PgClassExpression57,PgClassExpression58,PgClassExpression59 bucket1
    Bucket2("Bucket 2 (item45)<br />Deps: 44<br />~ᐳMutation.updateTypeByIdᐳUpdateTypePayload.typeᐳType.bigintDomainArrayDomain[]<br />⠀ROOT ᐸ-L- 45"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item45 bucket2
    Bucket3("Bucket 3 (group2[mutation])<br />Deps: 37<br />~ᐳMutation.createType<br />⠀ROOT ᐸ-O- 90<br />⠀⠀type ᐸ-O- 86<br />⠀⠀⠀type.id ᐸ-L- 93<br />⠀⠀⠀type.regrole ᐸ-L- 94<br />⠀⠀⠀type.regnamespace ᐸ-L- 95<br />⠀⠀⠀type.bigintDomainArrayDomain ᐸ-A- 96<br />⠀⠀⠀type.domainConstrainedCompoundType ᐸ-O- 104<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.a ᐸ-L- 105<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.b ᐸ-L- 106<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.c ᐸ-L- 107<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.d ᐸ-L- 108<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.e ᐸ-L- 109<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.f ᐸ-L- 110<br />⠀⠀⠀⠀type.domainConstrainedCompoundType.fooBar ᐸ-L- 111"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__InputStaticLeaf64,__InputStaticLeaf65,__InputStaticLeaf67,__InputStaticLeaf68,__InputStaticLeaf69,__InputStaticLeaf72,PgInsert86,Object90,List91,Object92,PgClassExpression93,PgClassExpression94,PgClassExpression95,PgClassExpression96,PgClassExpression98,PgSelect99,First103,PgSelectSingle104,PgClassExpression105,PgClassExpression106,PgClassExpression107,PgClassExpression108,PgClassExpression109,PgClassExpression110,PgClassExpression111 bucket3
    Bucket4("Bucket 4 (item97)<br />Deps: 96<br />~ᐳMutation.createTypeᐳCreateTypePayload.typeᐳType.bigintDomainArrayDomain[]<br />⠀ROOT ᐸ-L- 97"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item97 bucket4
    Bucket0 --> Bucket1 & Bucket3
    Bucket1 --> Bucket2
    Bucket3 --> Bucket4
    end
